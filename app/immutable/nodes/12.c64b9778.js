import{s as ae,F as mt,G as ht,h as T,d as g,j as P,i as M,y as D,H as Z,u as B,E as ce,r as xe,f as C,g as I,A as $e,B as et,C as tt,M as Wt,e as H,D as ge,x as Le,V as Qe,a as X,c as Y,W as gt,P as Lt,X as _t,Y as Fe,z as We,R as Ut,L as qt,l as U,m as q,Z as Ke,n as oe,O as de,_ as Xt,$ as Ne,p as ke,S as we,I as te,a0 as Yt,w as Ot,U as Bt}from"../chunks/scheduler.5ee162ca.js";import{S as ne,i as re,a as p,t as w,g as _e,c as be,b as O,d as F,m as V,e as j,h as De}from"../chunks/index.56c32700.js";import{B as Ue}from"../chunks/Button.b6f667b3.js";import{d as qe,r as Oe,D as Xe,a as Ye,b as Ht,c as Gt}from"../chunks/DataTable.386a94b7.js";import{w as Ce}from"../chunks/index.d5413678.js";import{a as Jt}from"../chunks/auth.state.d295d359.js";import{n as Qt}from"../chunks/toaster.state.4d15da3a.js";import{C as Kt,c as Zt}from"../chunks/CloseButton.e40ba4f1.js";import{D as xt}from"../chunks/Drawer.7da30fbf.js";import{L as Ft,I as $t,f as ea,c as ta,a as aa,b as na,T as ra}from"../chunks/TextField.8c39e89a.js";import{t as Ie,g as Te,a as at}from"../chunks/tw-merge.dd2125e8.js";import{e as bt}from"../chunks/each.e59479a4.js";function la(a){let e,t;return{c(){e=mt("svg"),t=mt("path"),this.h()},l(n){e=ht(n,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var r=T(e);t=ht(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),T(t).forEach(g),r.forEach(g),this.h()},h(){P(t,"fill-rule","evenodd"),P(t,"d","M8 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"),P(t,"clip-rule","evenodd"),P(e,"class",a[0]),P(e,"fill","currentColor"),P(e,"viewBox","0 0 16 16"),P(e,"xmlns","http://www.w3.org/2000/svg")},m(n,r){M(n,e,r),D(e,t)},p:Z,i:Z,o:Z,d(n){n&&g(e)}}}function sa(a,e,t){let{rounded:n=!1}=e,{border:r=!1}=e,{size:l="md"}=e,i=Ie("text-gray-400 bg-gray-100 dark:bg-gray-600",n?"rounded":"rounded-full",r?{xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-16 h-16",xl:"w-32 h-32"}[l]:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"}[l],e.class);return a.$$set=f=>{t(6,e=B(B({},e),ce(f))),"rounded"in f&&t(1,n=f.rounded),"border"in f&&t(2,r=f.border),"size"in f&&t(3,l=f.size)},e=ce(e),[i,n,r,l]}class ia extends ne{constructor(e){super(),re(this,e,sa,la,ae,{rounded:1,border:2,size:3})}}function oa(a){let e,t;const n=a[8].default,r=xe(n,a,a[7],null);return{c(){e=C("div"),r&&r.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=T(e);r&&r.l(s),s.forEach(g),this.h()},h(){P(e,"class",a[0])},m(l,s){M(l,e,s),r&&r.m(e,null),t=!0},p(l,[s]){r&&r.p&&(!t||s&128)&&$e(r,n,l,l[7],t?tt(n,l[7],s,null):et(l[7]),null),(!t||s&1)&&P(e,"class",l[0])},i(l){t||(p(r,l),t=!0)},o(l){w(r,l),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function ua(a,e,t){let{$$slots:n={},$$scope:r}=e;const l=Wt(n);let{color:s="gray"}=e,{rounded:u=!1}=e,{size:i="md"}=e,{border:f=!1}=e,{placement:d=void 0}=e,{offset:o=!0}=e;const c={gray:"bg-gray-200",dark:"bg-gray-900 dark:bg-gray-700",blue:"bg-blue-600",orange:"bg-orange-600",green:"bg-green-500",red:"bg-red-500",purple:"bg-purple-500",indigo:"bg-indigo-500",yellow:"bg-yellow-300",teal:"bg-teal-500",none:""},m={xs:"w-2 h-2",sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-3.5 h-3.5",xl:"w-6 h-6"},_={"top-left":"top-0 left-0","top-center":"top-0 left-1/2 -translate-x-1/2","top-right":"top-0 right-0","center-left":"top-1/2 -translate-y-1/2 left-0",center:"top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2","center-right":"top-1/2 -translate-y-1/2 right-0","bottom-left":"bottom-0 left-0","bottom-center":"bottom-0 left-1/2 -translate-x-1/2","bottom-right":"bottom-0 right-0"},S={"top-left":"-translate-x-1/3 -translate-y-1/3","top-center":"-translate-y-1/3","top-right":"translate-x-1/3 -translate-y-1/3","center-left":"-translate-x-1/3",center:"","center-right":"translate-x-1/3","bottom-left":"-translate-x-1/3 translate-y-1/3","bottom-center":"translate-y-1/3","bottom-right":"translate-x-1/3 translate-y-1/3"};let E;return a.$$set=k=>{t(13,e=B(B({},e),ce(k))),"color"in k&&t(1,s=k.color),"rounded"in k&&t(2,u=k.rounded),"size"in k&&t(3,i=k.size),"border"in k&&t(4,f=k.border),"placement"in k&&t(5,d=k.placement),"offset"in k&&t(6,o=k.offset),"$$scope"in k&&t(7,r=k.$$scope)},a.$$.update=()=>{t(0,E=Ie("flex-shrink-0",u?"rounded":"rounded-full",f&&"border-2 border-white dark:border-gray-800",m[i],c[s],l.default&&"inline-flex items-center justify-center",d&&"absolute "+_[d],d&&o&&S[d],e.class))},e=ce(e),[E,s,u,i,f,d,o,r,n]}class fa extends ne{constructor(e){super(),re(this,e,ua,oa,ae,{color:1,rounded:2,size:3,border:4,placement:5,offset:6})}}function da(a){let e,t,n=[{alt:a[5]},{src:t=a[1]},a[10],{class:a[7]}],r={};for(let l=0;l<n.length;l+=1)r=B(r,n[l]);return{c(){e=C("img"),this.h()},l(l){e=I(l,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){Le(e,r)},m(l,s){M(l,e,s)},p(l,s){Le(e,r=Te(n,[s&32&&{alt:l[5]},s&2&&!Qe(e.src,t=l[1])&&{src:t},s&1024&&l[10],s&128&&{class:l[7]}]))},i:Z,o:Z,d(l){l&&g(e)}}}function ca(a){let e=a[2]?"a":"div",t,n,r=(a[2]?"a":"div")&&Be(a);return{c(){r&&r.c(),t=H()},l(l){r&&r.l(l),t=H()},m(l,s){r&&r.m(l,s),M(l,t,s),n=!0},p(l,s){l[2],e?ae(e,l[2]?"a":"div")?(r.d(1),r=Be(l),e=l[2]?"a":"div",r.c(),r.m(t.parentNode,t)):r.p(l,s):(r=Be(l),e=l[2]?"a":"div",r.c(),r.m(t.parentNode,t))},i(l){n||(p(r,l),n=!0)},o(l){w(r,l),n=!1},d(l){l&&g(t),r&&r.d(l)}}}function ma(a){let e;const t=a[13].default,n=xe(t,a,a[12],null),r=n||ga(a);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){n?n.p&&(!e||s&4096)&&$e(n,t,l,l[12],e?tt(t,l[12],s,null):et(l[12]),null):r&&r.p&&(!e||s&344)&&r.p(l,e?s:-1)},i(l){e||(p(r,l),e=!0)},o(l){w(r,l),e=!1},d(l){r&&r.d(l)}}}function ha(a){let e,t,n;return{c(){e=C("img"),this.h()},l(r){e=I(r,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){P(e,"alt",a[5]),Qe(e.src,t=a[1])||P(e,"src",t),P(e,"class",n=a[3]?"rounded":"rounded-full")},m(r,l){M(r,e,l)},p(r,l){l&32&&P(e,"alt",r[5]),l&2&&!Qe(e.src,t=r[1])&&P(e,"src",t),l&8&&n!==(n=r[3]?"rounded":"rounded-full")&&P(e,"class",n)},i:Z,o:Z,d(r){r&&g(e)}}}function ga(a){let e,t;return e=new ia({props:{rounded:a[3],size:a[6],border:a[4],class:Ie(a[8].classPlaceholder)}}),{c(){O(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){V(e,n,r),t=!0},p(n,r){const l={};r&8&&(l.rounded=n[3]),r&64&&(l.size=n[6]),r&16&&(l.border=n[4]),r&256&&(l.class=Ie(n[8].classPlaceholder)),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function vt(a){let e,t;const n=[{border:!0},{offset:a[3]},a[0]];let r={};for(let l=0;l<n.length;l+=1)r=B(r,n[l]);return e=new fa({props:r}),{c(){O(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,s){const u=s&9?Te(n,[n[0],s&8&&{offset:l[3]},s&1&&at(l[0])]):{};e.$set(u)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Be(a){let e,t,n,r,l,s;const u=[ha,ma],i=[];function f(m,_){return m[1]?0:1}t=f(a),n=i[t]=u[t](a);let d=a[0]&&vt(a),o=[{href:a[2]},a[10],{class:l="relative flex justify-center items-center "+a[7]}],c={};for(let m=0;m<o.length;m+=1)c=B(c,o[m]);return{c(){e=C(a[2]?"a":"div"),n.c(),r=X(),d&&d.c(),this.h()},l(m){e=I(m,((a[2]?"a":"div")||"null").toUpperCase(),{href:!0,class:!0});var _=T(e);n.l(_),r=Y(_),d&&d.l(_),_.forEach(g),this.h()},h(){gt(a[2]?"a":"div")(e,c)},m(m,_){M(m,e,_),i[t].m(e,null),D(e,r),d&&d.m(e,null),s=!0},p(m,_){let S=t;t=f(m),t===S?i[t].p(m,_):(_e(),w(i[S],1,1,()=>{i[S]=null}),be(),n=i[t],n?n.p(m,_):(n=i[t]=u[t](m),n.c()),p(n,1),n.m(e,r)),m[0]?d?(d.p(m,_),_&1&&p(d,1)):(d=vt(m),d.c(),p(d,1),d.m(e,null)):d&&(_e(),w(d,1,1,()=>{d=null}),be()),gt(m[2]?"a":"div")(e,c=Te(o,[(!s||_&4)&&{href:m[2]},_&1024&&m[10],(!s||_&128&&l!==(l="relative flex justify-center items-center "+m[7]))&&{class:l}]))},i(m){s||(p(n),p(d),s=!0)},o(m){w(n),w(d),s=!1},d(m){m&&g(e),i[t].d(),d&&d.d()}}}function _a(a){let e,t,n,r;const l=[ca,da],s=[];function u(i,f){return!i[1]||i[2]||i[9].default||i[0]?0:1}return e=u(a),t=s[e]=l[e](a),{c(){t.c(),n=H()},l(i){t.l(i),n=H()},m(i,f){s[e].m(i,f),M(i,n,f),r=!0},p(i,[f]){let d=e;e=u(i),e===d?s[e].p(i,f):(_e(),w(s[d],1,1,()=>{s[d]=null}),be(),t=s[e],t?t.p(i,f):(t=s[e]=l[e](i),t.c()),p(t,1),t.m(n.parentNode,n))},i(i){r||(p(t),r=!0)},o(i){w(t),r=!1},d(i){i&&g(n),s[e].d(i)}}}function ba(a,e,t){const n=["src","href","rounded","border","stacked","dot","alt","size"];let r=ge(e,n),{$$slots:l={},$$scope:s}=e;const u=Wt(l);let{src:i=""}=e,{href:f=void 0}=e,{rounded:d=!1}=e,{border:o=!1}=e,{stacked:c=!1}=e,{dot:m=void 0}=e,{alt:_=""}=e,{size:S="md"}=e;const E={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"};let k;return a.$$set=h=>{t(8,e=B(B({},e),ce(h))),t(10,r=ge(e,n)),"src"in h&&t(1,i=h.src),"href"in h&&t(2,f=h.href),"rounded"in h&&t(3,d=h.rounded),"border"in h&&t(4,o=h.border),"stacked"in h&&t(11,c=h.stacked),"dot"in h&&t(0,m=h.dot),"alt"in h&&t(5,_=h.alt),"size"in h&&t(6,S=h.size),"$$scope"in h&&t(12,s=h.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(0,m=m&&{placement:"top-right",color:"gray",size:"lg",...m}),t(7,k=Ie(d?"rounded":"rounded-full",o&&"p-1 ring-2 ring-gray-300 dark:ring-gray-500",E[S],c&&"border-2 -ml-4 border-white dark:border-gray-800","bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300",e.class))},e=ce(e),[m,i,f,d,o,_,S,k,e,u,r,c,s,l]}class pt extends ne{constructor(e){super(),re(this,e,ba,_a,ae,{src:1,href:2,rounded:3,border:4,stacked:11,dot:0,alt:5,size:6})}}function yt(a,e,t){const n=a.slice();return n[0]=e[t].value,n[17]=e[t].name,n}function kt(a){let e,t;return{c(){e=C("option"),t=U(a[2]),this.h()},l(n){e=I(n,"OPTION",{});var r=T(e);t=q(r,a[2]),r.forEach(g),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",Ke(e,e.__value)},m(n,r){M(n,e,r),D(e,t)},p(n,r){r&4&&oe(t,n[2])},d(n){n&&g(e)}}}function wt(a){let e;const t=a[10].default,n=xe(t,a,a[9],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,l){n&&n.m(r,l),e=!0},p(r,l){n&&n.p&&(!e||l&512)&&$e(n,t,r,r[9],e?tt(t,r[9],l,null):et(r[9]),null)},i(r){e||(p(n,r),e=!0)},o(r){w(n,r),e=!1},d(r){n&&n.d(r)}}}function Dt(a){let e,t=a[17]+"",n,r;return{c(){e=C("option"),n=U(t),this.h()},l(l){e=I(l,"OPTION",{});var s=T(e);n=q(s,t),s.forEach(g),this.h()},h(){e.__value=r=a[0],Ke(e,e.__value)},m(l,s){M(l,e,s),D(e,n)},p(l,s){s&2&&t!==(t=l[17]+"")&&oe(n,t),s&2&&r!==(r=l[0])&&(e.__value=r,Ke(e,e.__value))},d(l){l&&g(e)}}}function va(a){let e,t,n,r,l=a[2]&&kt(a),s=bt(a[1]),u=[];for(let o=0;o<s.length;o+=1)u[o]=Dt(yt(a,s,o));let i=null;s.length||(i=wt(a));let f=[a[4],{class:a[3]}],d={};for(let o=0;o<f.length;o+=1)d=B(d,f[o]);return{c(){e=C("select"),l&&l.c(),t=H();for(let o=0;o<u.length;o+=1)u[o].c();i&&i.c(),this.h()},l(o){e=I(o,"SELECT",{class:!0});var c=T(e);l&&l.l(c),t=H();for(let m=0;m<u.length;m+=1)u[m].l(c);i&&i.l(c),c.forEach(g),this.h()},h(){Le(e,d),a[0]===void 0&&Lt(()=>a[14].call(e))},m(o,c){M(o,e,c),l&&l.m(e,null),D(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);i&&i.m(e,null),"value"in d&&(d.multiple?_t:Fe)(e,d.value),e.autofocus&&e.focus(),Fe(e,a[0],!0),n||(r=[We(e,"change",a[14]),We(e,"change",a[11]),We(e,"contextmenu",a[12]),We(e,"input",a[13])],n=!0)},p(o,[c]){if(o[2]?l?l.p(o,c):(l=kt(o),l.c(),l.m(e,t)):l&&(l.d(1),l=null),c&514){s=bt(o[1]);let m;for(m=0;m<s.length;m+=1){const _=yt(o,s,m);u[m]?u[m].p(_,c):(u[m]=Dt(_),u[m].c(),u[m].m(e,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=s.length,!s.length&&i?i.p(o,c):s.length?i&&(_e(),w(i,1,1,()=>{i=null}),be()):(i=wt(o),i.c(),p(i,1),i.m(e,null))}Le(e,d=Te(f,[c&16&&o[4],{class:o[3]}])),c&24&&"value"in d&&(d.multiple?_t:Fe)(e,d.value),c&3&&Fe(e,o[0])},i:Z,o:Z,d(o){o&&g(e),l&&l.d(),Ut(u,o),i&&i.d(),n=!1,qt(r)}}}const pa="block w-full";function ya(a,e,t){const n=["items","value","placeholder","underline","size","defaultClass","underlineClass"];let r=ge(e,n),{$$slots:l={},$$scope:s}=e,{items:u=[]}=e,{value:i=void 0}=e,{placeholder:f="Choose option ..."}=e,{underline:d=!1}=e,{size:o="md"}=e,{defaultClass:c="text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"}=e,{underlineClass:m="text-gray-500 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer"}=e;const _={sm:"text-sm p-2",md:"text-sm p-2.5",lg:"text-base py-3 px-4"};let S;function E(b){de.call(this,a,b)}function k(b){de.call(this,a,b)}function h(b){de.call(this,a,b)}function R(){i=Xt(this),t(0,i),t(1,u)}return a.$$set=b=>{t(16,e=B(B({},e),ce(b))),t(4,r=ge(e,n)),"items"in b&&t(1,u=b.items),"value"in b&&t(0,i=b.value),"placeholder"in b&&t(2,f=b.placeholder),"underline"in b&&t(5,d=b.underline),"size"in b&&t(6,o=b.size),"defaultClass"in b&&t(7,c=b.defaultClass),"underlineClass"in b&&t(8,m=b.underlineClass),"$$scope"in b&&t(9,s=b.$$scope)},a.$$.update=()=>{t(3,S=Ie(pa,d?m:c,_[o],d&&"!px-0",e.class))},e=ce(e),[i,u,f,S,r,d,o,c,m,s,l,E,k,h,R]}class ka extends ne{constructor(e){super(),re(this,e,ya,va,ae,{items:1,value:0,placeholder:2,underline:5,size:6,defaultClass:7,underlineClass:8})}}let ee=null;const wa=()=>(ee={drawerClosed:Ce(!0),focusedUser:Ce(null),closeDrawer:()=>{var a,e;ee&&((e=(a=ee==null?void 0:ee.drawerClosed)==null?void 0:a.set)==null||e.call(a,!0))},openDrawer:()=>{var a,e;ee&&((e=(a=ee==null?void 0:ee.drawerClosed)==null?void 0:a.set)==null||e.call(a,!1))}},ee),Da=()=>{ee=null},nt=()=>ee||wa(),{store:{currentUser:He,currentSession:Ma}}=Jt,{store:{roles:Sa}}=Oe,{action:{toastify:Pe}}=Qt,Pa={name:"",sort_index:0,role_group_id:0},Ca={name:"",sort_index:0,group_id:"0"};let ie=null;const Ia=()=>(ie={loading:Ce(!1),model:Ce(Ca),action:Ce("view"),targetRole:Ce(Pa),addRole:async a=>{var e,t,n,r;try{let l=a.sort_index;a.sort_index||(l=(((e=Ne(Sa).sort((i,f)=>!(f!=null&&f.sort_index)||!(i!=null&&i.sort_index)?0:f.sort_index-i.sort_index)[1])==null?void 0:e.sort_index)??0)+1);const s=[{name:a.name,sort_index:l,role_group_id:a.role_group_id,created_by_id:(t=Ne(He))==null?void 0:t.id,created_at:new Date().toISOString()}];await qe.bulkCreate(s),(r=(n=ie==null?void 0:ie.targetRole)==null?void 0:n.set)==null||r.call(n,null),Pe({type:"success",message:"Updated role successfully"})}catch{Pe({type:"error",message:"Update role failed, please refresh browser and try again."})}},updateRole:async a=>{var e,t,n;try{console.log("### update role",Ne(He),Ne(Ma));const r=[{name:a.name,sort_index:a.sort_index,uuid:a.uuid,role_group_id:a.role_group_id,updated_by_id:(e=Ne(He))==null?void 0:e.id,updated_at:new Date().toISOString()}];await qe.bulkUpdate(r,{onConflict:"uuid"}),(n=(t=ie==null?void 0:ie.targetRole)==null?void 0:t.set)==null||n.call(t,null),Pe({type:"success",message:"Updated role successfully."})}catch{Pe({type:"error",message:"Update role failed, please refresh browser and try again."})}},deleteRole:async a=>{if(a)try{await qe.bulkDelete([a]),Pe({type:"success",message:"Deleted role successfully."})}catch{Pe({type:"error",message:"Delete role failed, please refresh browser and try again."})}}},ie),Vt=()=>ie===null?Ia():ie,Ta=()=>{ie=null};function Mt(a){let e,t;return{c(){e=C("small"),t=U(a[1])},l(n){e=I(n,"SMALL",{});var r=T(e);t=q(r,a[1]),r.forEach(g)},m(n,r){M(n,e,r),D(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&g(e)}}}function Ea(a){let e,t=a[1]&&Mt(a);return{c(){t&&t.c(),e=H()},l(n){t&&t.l(n),e=H()},m(n,r){t&&t.m(n,r),M(n,e,r)},p(n,r){n[1]?t?t.p(n,r):(t=Mt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&g(e),t&&t.d(n)}}}function St(a){let e,t;return{c(){e=C("div"),t=U(a[4]),this.h()},l(n){e=I(n,"DIV",{class:!0});var r=T(e);t=q(r,a[4]),r.forEach(g),this.h()},h(){P(e,"class",Na)},m(n,r){M(n,e,r),D(e,t)},p(n,r){r&16&&oe(t,n[4])},d(n){n&&g(e)}}}function za(a){let e,t,n,r,l,s,u;e=new Ft({props:{for:a[2],class:a[3]?`${a[5]} block mb-2`:"block mb-2",$$slots:{default:[Ea]},$$scope:{ctx:a}}});const i=[a[6],{type:"number"},{class:a[3]?Ct:Pt}];function f(c){a[7](c)}let d={};for(let c=0;c<i.length;c+=1)d=B(d,i[c]);a[0]!==void 0&&(d.value=a[0]),n=new $t({props:d}),ke.push(()=>De(n,"value",f)),n.$on("click",a[8]),n.$on("blur",a[9]),n.$on("focus",a[10]),n.$on("input",a[11]),n.$on("keydown",a[12]),n.$on("keyup",a[13]);let o=a[4]&&St(a);return{c(){O(e.$$.fragment),t=X(),O(n.$$.fragment),l=X(),o&&o.c(),s=H()},l(c){F(e.$$.fragment,c),t=Y(c),F(n.$$.fragment,c),l=Y(c),o&&o.l(c),s=H()},m(c,m){V(e,c,m),M(c,t,m),V(n,c,m),M(c,l,m),o&&o.m(c,m),M(c,s,m),u=!0},p(c,[m]){const _={};m&4&&(_.for=c[2]),m&8&&(_.class=c[3]?`${c[5]} block mb-2`:"block mb-2"),m&16386&&(_.$$scope={dirty:m,ctx:c}),e.$set(_);const S=m&72?Te(i,[m&64&&at(c[6]),i[1],m&8&&{class:c[3]?Ct:Pt}]):{};!r&&m&1&&(r=!0,S.value=c[0],we(()=>r=!1)),n.$set(S),c[4]?o?o.p(c,m):(o=St(c),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(c){u||(p(e.$$.fragment,c),p(n.$$.fragment,c),u=!0)},o(c){w(e.$$.fragment,c),w(n.$$.fragment,c),u=!1},d(c){c&&(g(t),g(l),g(s)),j(e,c),j(n,c),o&&o.d(c)}}}const Pt="block w-full disabled:cursor-not-allowed disabled:opacity-50 p-2.5 focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 text-sm rounded-lg",Ct="block w-full disabled:cursor-not-allowed disabled:opacity-50 p-2.5 focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-500 dark:focus:border-red-500 bg-red-50 text-red-900 placeholder-red-700 dark:text-red-500 dark:placeholder-red-500 dark:bg-gray-700 border-red-500 dark:border-red-400 text-sm rounded-lg",Na="text-xs font-normal text-red-700 dark:text-red-500";function Ra(a,e,t){const n=["label","name","value","isInvalid","helperMessage"];let r=ge(e,n),{label:l=""}=e,{name:s=""}=e,{value:u}=e,{isInvalid:i=!1}=e,{helperMessage:f}=e;const d="text-sm font-medium text-red-700 dark:text-red-500";function o(h){u=h,t(0,u)}function c(h){de.call(this,a,h)}function m(h){de.call(this,a,h)}function _(h){de.call(this,a,h)}function S(h){de.call(this,a,h)}function E(h){de.call(this,a,h)}function k(h){de.call(this,a,h)}return a.$$set=h=>{e=B(B({},e),ce(h)),t(6,r=ge(e,n)),"label"in h&&t(1,l=h.label),"name"in h&&t(2,s=h.name),"value"in h&&t(0,u=h.value),"isInvalid"in h&&t(3,i=h.isInvalid),"helperMessage"in h&&t(4,f=h.helperMessage)},[u,l,s,i,f,d,r,o,c,m,_,S,E,k]}class Aa extends ne{constructor(e){super(),re(this,e,Ra,za,ae,{label:1,name:2,value:0,isInvalid:3,helperMessage:4})}}function It(a){let e,t;return{c(){e=C("small"),t=U(a[1])},l(n){e=I(n,"SMALL",{});var r=T(e);t=q(r,a[1]),r.forEach(g)},m(n,r){M(n,e,r),D(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&g(e)}}}function Wa(a){let e,t=a[1]&&It(a);return{c(){t&&t.c(),e=H()},l(n){t&&t.l(n),e=H()},m(n,r){t&&t.m(n,r),M(n,e,r)},p(n,r){n[1]?t?t.p(n,r):(t=It(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&g(e),t&&t.d(n)}}}function Oa(a){let e,t,n,r,l;e=new Ft({props:{for:a[2],class:"block mb-2",$$slots:{default:[Wa]},$$scope:{ctx:a}}});const s=[a[4],{items:a[3]}];function u(f){a[5](f)}let i={};for(let f=0;f<s.length;f+=1)i=B(i,s[f]);return a[0]!==void 0&&(i.value=a[0]),n=new ka({props:i}),ke.push(()=>De(n,"value",u)),{c(){O(e.$$.fragment),t=X(),O(n.$$.fragment)},l(f){F(e.$$.fragment,f),t=Y(f),F(n.$$.fragment,f)},m(f,d){V(e,f,d),M(f,t,d),V(n,f,d),l=!0},p(f,[d]){const o={};d&4&&(o.for=f[2]),d&66&&(o.$$scope={dirty:d,ctx:f}),e.$set(o);const c=d&24?Te(s,[d&16&&at(f[4]),d&8&&{items:f[3]}]):{};!r&&d&1&&(r=!0,c.value=f[0],we(()=>r=!1)),n.$set(c)},i(f){l||(p(e.$$.fragment,f),p(n.$$.fragment,f),l=!0)},o(f){w(e.$$.fragment,f),w(n.$$.fragment,f),l=!1},d(f){f&&g(t),j(e,f),j(n,f)}}}function Fa(a,e,t){const n=["label","name","value","items"];let r=ge(e,n),{label:l=""}=e,{name:s=""}=e,{value:u}=e,{items:i}=e;function f(d){u=d,t(0,u)}return a.$$set=d=>{e=B(B({},e),ce(d)),t(4,r=ge(e,n)),"label"in d&&t(1,l=d.label),"name"in d&&t(2,s=d.name),"value"in d&&t(0,u=d.value),"items"in d&&t(3,i=d.items)},[u,l,s,i,r,f]}class Va extends ne{constructor(e){super(),re(this,e,Fa,Oa,ae,{label:1,name:2,value:0,items:3})}}function ja(a){let e,t,n;function r(s){a[6](s)}let l={label:a[1],name:a[2],items:a[3]};return a[0]!==void 0&&(l.value=a[0]),e=new Va({props:l}),ke.push(()=>De(e,"value",r)),{c(){O(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,u){V(e,s,u),n=!0},p(s,[u]){const i={};u&2&&(i.label=s[1]),u&4&&(i.name=s[2]),u&8&&(i.items=s[3]),!t&&u&1&&(t=!0,i.value=s[0],we(()=>t=!1)),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function La(a,e,t){let n,r,{label:l=""}=e,{name:s=""}=e,{value:u}=e;const{store:{roleGroups:i}}=Oe;te(a,i,d=>t(5,r=d));function f(d){u=d,t(0,u)}return a.$$set=d=>{"label"in d&&t(1,l=d.label),"name"in d&&t(2,s=d.name),"value"in d&&t(0,u=d.value)},a.$$.update=()=>{a.$$.dirty&32&&t(3,n=r.map(d=>({value:d.id+"",name:`${d.name}`})))},[u,l,s,n,i,r,f]}class Ua extends ne{constructor(e){super(),re(this,e,La,ja,ae,{label:1,name:2,value:0})}}function Ze(a){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(a)}function ue(a,e){if(e.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+e.length+" present")}function K(a){ue(1,arguments);var e=Object.prototype.toString.call(a);return a instanceof Date||Ze(a)==="object"&&e==="[object Date]"?new Date(a.getTime()):typeof a=="number"||e==="[object Number]"?new Date(a):((typeof a=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var qa={};function Xa(){return qa}function Tt(a){var e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),a.getTime()-e.getTime()}function je(a,e){ue(2,arguments);var t=K(a),n=K(e),r=t.getTime()-n.getTime();return r<0?-1:r>0?1:r}function Ya(a,e){ue(2,arguments);var t=K(a),n=K(e),r=t.getFullYear()-n.getFullYear(),l=t.getMonth()-n.getMonth();return r*12+l}function Ba(a,e){return ue(2,arguments),K(a).getTime()-K(e).getTime()}var Et={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Ha="trunc";function Ga(a){return a?Et[a]:Et[Ha]}function Ja(a){ue(1,arguments);var e=K(a);return e.setHours(23,59,59,999),e}function Qa(a){ue(1,arguments);var e=K(a),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Ka(a){ue(1,arguments);var e=K(a);return Ja(e).getTime()===Qa(e).getTime()}function Za(a,e){ue(2,arguments);var t=K(a),n=K(e),r=je(t,n),l=Math.abs(Ya(t,n)),s;if(l<1)s=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-r*l);var u=je(t,n)===-r;Ka(K(a))&&l===1&&je(a,n)===1&&(u=!1),s=r*(l-Number(u))}return s===0?0:s}function xa(a,e,t){ue(2,arguments);var n=Ba(a,e)/1e3;return Ga(t==null?void 0:t.roundingMethod)(n)}var $a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},en=function(e,t,n){var r,l=$a[e];return typeof l=="string"?r=l:t===1?r=l.one:r=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};const tn=en;function Ge(a){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):a.defaultWidth,n=a.formats[t]||a.formats[a.defaultWidth];return n}}var an={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ln={date:Ge({formats:an,defaultWidth:"full"}),time:Ge({formats:nn,defaultWidth:"full"}),dateTime:Ge({formats:rn,defaultWidth:"full"})};const sn=ln;var on={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},un=function(e,t,n,r){return on[e]};const fn=un;function Re(a){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",r;if(n==="formatting"&&a.formattingValues){var l=a.defaultFormattingWidth||a.defaultWidth,s=t!=null&&t.width?String(t.width):l;r=a.formattingValues[s]||a.formattingValues[l]}else{var u=a.defaultWidth,i=t!=null&&t.width?String(t.width):a.defaultWidth;r=a.values[i]||a.values[u]}var f=a.argumentCallback?a.argumentCallback(e):e;return r[f]}}var dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_n={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bn=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vn={ordinalNumber:bn,era:Re({values:dn,defaultWidth:"wide"}),quarter:Re({values:cn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Re({values:mn,defaultWidth:"wide"}),day:Re({values:hn,defaultWidth:"wide"}),dayPeriod:Re({values:gn,defaultWidth:"wide",formattingValues:_n,defaultFormattingWidth:"wide"})};const pn=vn;function Ae(a){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,r=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],l=e.match(r);if(!l)return null;var s=l[0],u=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],i=Array.isArray(u)?kn(u,function(o){return o.test(s)}):yn(u,function(o){return o.test(s)}),f;f=a.valueCallback?a.valueCallback(i):i,f=t.valueCallback?t.valueCallback(f):f;var d=e.slice(s.length);return{value:f,rest:d}}}function yn(a,e){for(var t in a)if(a.hasOwnProperty(t)&&e(a[t]))return t}function kn(a,e){for(var t=0;t<a.length;t++)if(e(a[t]))return t}function wn(a){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(a.matchPattern);if(!n)return null;var r=n[0],l=e.match(a.parsePattern);if(!l)return null;var s=a.valueCallback?a.valueCallback(l[0]):l[0];s=t.valueCallback?t.valueCallback(s):s;var u=e.slice(r.length);return{value:s,rest:u}}}var Dn=/^(\d+)(th|st|nd|rd)?/i,Mn=/\d+/i,Sn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pn={any:[/^b/i,/^(a|c)/i]},Cn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},In={any:[/1/i,/2/i,/3/i,/4/i]},Tn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},En={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},An={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wn={ordinalNumber:wn({matchPattern:Dn,parsePattern:Mn,valueCallback:function(e){return parseInt(e,10)}}),era:Ae({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:Pn,defaultParseWidth:"any"}),quarter:Ae({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:In,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ae({matchPatterns:Tn,defaultMatchWidth:"wide",parsePatterns:En,defaultParseWidth:"any"}),day:Ae({matchPatterns:zn,defaultMatchWidth:"wide",parsePatterns:Nn,defaultParseWidth:"any"}),dayPeriod:Ae({matchPatterns:Rn,defaultMatchWidth:"any",parsePatterns:An,defaultParseWidth:"any"})};const On=Wn;var Fn={code:"en-US",formatDistance:tn,formatLong:sn,formatRelative:fn,localize:pn,match:On,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Vn=Fn;function jt(a,e){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a}function jn(a){return jt({},a)}var zt=1440,Ln=2520,Je=43200,Un=86400;function qn(a,e,t){var n,r;ue(2,arguments);var l=Xa(),s=(n=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:l.locale)!==null&&n!==void 0?n:Vn;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=je(a,e);if(isNaN(u))throw new RangeError("Invalid time value");var i=jt(jn(t),{addSuffix:!!(t!=null&&t.addSuffix),comparison:u}),f,d;u>0?(f=K(e),d=K(a)):(f=K(a),d=K(e));var o=xa(d,f),c=(Tt(d)-Tt(f))/1e3,m=Math.round((o-c)/60),_;if(m<2)return t!=null&&t.includeSeconds?o<5?s.formatDistance("lessThanXSeconds",5,i):o<10?s.formatDistance("lessThanXSeconds",10,i):o<20?s.formatDistance("lessThanXSeconds",20,i):o<40?s.formatDistance("halfAMinute",0,i):o<60?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",1,i):m===0?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",m,i);if(m<45)return s.formatDistance("xMinutes",m,i);if(m<90)return s.formatDistance("aboutXHours",1,i);if(m<zt){var S=Math.round(m/60);return s.formatDistance("aboutXHours",S,i)}else{if(m<Ln)return s.formatDistance("xDays",1,i);if(m<Je){var E=Math.round(m/zt);return s.formatDistance("xDays",E,i)}else if(m<Un)return _=Math.round(m/Je),s.formatDistance("aboutXMonths",_,i)}if(_=Za(d,f),_<12){var k=Math.round(m/Je);return s.formatDistance("xMonths",k,i)}else{var h=_%12,R=Math.floor(_/12);return h<3?s.formatDistance("aboutXYears",R,i):h<9?s.formatDistance("overXYears",R,i):s.formatDistance("almostXYears",R+1,i)}}function Ve(a,e){return ue(1,arguments),qn(a,Date.now(),e)}function Xn(a){var me,ve;let e,t,n,r=a[1]?Ve(new Date(a[1]))+" ago":"",l,s,u,i,f,d=(((me=a[2])==null?void 0:me.name)??"Bot")+"",o,c,m,_,S,E=a[0]?Ve(new Date(a[0]))+" ago":"",k,h,R,b,A,$=(((ve=a[3])==null?void 0:ve.name)??"Bot")+"",G,J;return i=new pt({props:{size:"xs",class:"mr-1"}}),b=new pt({props:{size:"xs",class:"mr-1"}}),{c(){e=C("div"),t=C("div"),n=U("Updated "),l=U(r),s=U(` by
		`),u=C("span"),O(i.$$.fragment),f=X(),o=U(d),c=X(),m=C("div"),_=C("div"),S=U("Created "),k=U(E),h=U(` by
		`),R=C("span"),O(b.$$.fragment),A=X(),G=U($),this.h()},l(z){e=I(z,"DIV",{class:!0});var Q=T(e);t=I(Q,"DIV",{class:!0});var le=T(t);n=q(le,"Updated "),l=q(le,r),s=q(le,` by
		`),u=I(le,"SPAN",{class:!0});var v=T(u);F(i.$$.fragment,v),f=Y(v),o=q(v,d),v.forEach(g),le.forEach(g),Q.forEach(g),c=Y(z),m=I(z,"DIV",{class:!0});var fe=T(m);_=I(fe,"DIV",{class:!0});var se=T(_);S=q(se,"Created "),k=q(se,E),h=q(se,` by
		`),R=I(se,"SPAN",{class:!0});var W=T(R);F(b.$$.fragment,W),A=Y(W),G=q(W,$),W.forEach(g),se.forEach(g),fe.forEach(g),this.h()},h(){P(u,"class","ml-1 flex items-center"),P(t,"class","flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400 justify-end"),P(e,"class","mb-3"),P(R,"class","ml-1 flex items-center"),P(_,"class","flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400 justify-end"),P(m,"class","mb-6")},m(z,Q){M(z,e,Q),D(e,t),D(t,n),D(t,l),D(t,s),D(t,u),V(i,u,null),D(u,f),D(u,o),M(z,c,Q),M(z,m,Q),D(m,_),D(_,S),D(_,k),D(_,h),D(_,R),V(b,R,null),D(R,A),D(R,G),J=!0},p(z,[Q]){var le,v;(!J||Q&2)&&r!==(r=z[1]?Ve(new Date(z[1]))+" ago":"")&&oe(l,r),(!J||Q&4)&&d!==(d=(((le=z[2])==null?void 0:le.name)??"Bot")+"")&&oe(o,d),(!J||Q&1)&&E!==(E=z[0]?Ve(new Date(z[0]))+" ago":"")&&oe(k,E),(!J||Q&8)&&$!==($=(((v=z[3])==null?void 0:v.name)??"Bot")+"")&&oe(G,$)},i(z){J||(p(i.$$.fragment,z),p(b.$$.fragment,z),J=!0)},o(z){w(i.$$.fragment,z),w(b.$$.fragment,z),J=!1},d(z){z&&(g(e),g(c),g(m)),j(i),j(b)}}}function Yn(a,e,t){let n,r,l,{created_by_id:s}=e,{created_at:u}=e,{updated_by_id:i}=e,{updated_at:f}=e;const{store:{users:d}}=Oe;return te(a,d,o=>t(7,l=o)),a.$$set=o=>{"created_by_id"in o&&t(5,s=o.created_by_id),"created_at"in o&&t(0,u=o.created_at),"updated_by_id"in o&&t(6,i=o.updated_by_id),"updated_at"in o&&t(1,f=o.updated_at)},a.$$.update=()=>{a.$$.dirty&160&&t(3,n=s?l.find(o=>o.id===s):null),a.$$.dirty&192&&t(2,r=i?l.find(o=>o.id===i):null)},[u,f,r,n,d,s,i,l]}class Bn extends ne{constructor(e){super(),re(this,e,Yn,Xn,ae,{created_by_id:5,created_at:0,updated_by_id:6,updated_at:1})}}function Nt(a){var rt,lt,st,it,ot,ut;let e,t,n,r,l,s,u,i,f,d,o,c,m,_,S,E,k,h,R,b,A,$,G,J,me,ve;function z(y){a[15](y)}let Q={type:"text",name:"role-name",label:"Name",placeholder:"Name",disabled:a[3],isInvalid:((rt=a[4])==null?void 0:rt.name)!==void 0,helperMessage:(st=(lt=a[4])==null?void 0:lt.name)==null?void 0:st.message,novalidate:!0,required:!0};a[2].name!==void 0&&(Q.value=a[2].name),r=new ra({props:Q}),ke.push(()=>De(r,"value",z)),r.$on("input",a[12]);function le(y){a[16](y)}let v={name:"role-sort-index",label:"Sort Index",disabled:a[3],isInvalid:((it=a[4])==null?void 0:it.sort_index)!==void 0,helperMessage:(ut=(ot=a[4])==null?void 0:ot.sort_index)==null?void 0:ut.message,novalidate:!0,required:!0};a[2].sort_index!==void 0&&(v.value=a[2].sort_index),i=new Aa({props:v}),ke.push(()=>De(i,"value",le)),i.$on("input",a[12]);function fe(y){a[17](y)}let se={name:"role-group",label:"Role Group"};a[2].group_id!==void 0&&(se.value=a[2].group_id),c=new Ua({props:se}),ke.push(()=>De(c,"value",fe));let W=a[1]==="update"&&Rt(a),L=a[1]!=="add"&&At(a);return A=new Ue({props:{type:"button",size:"xs",class:"mr-2",color:"alternative",disabled:a[3],$$slots:{default:[Gn]},$$scope:{ctx:a}}}),A.$on("click",a[11]),G=new Ue({props:{type:"button",size:"xs",disabled:a[3],$$slots:{default:[Kn]},$$scope:{ctx:a}}}),G.$on("click",a[13]),{c(){e=C("form"),t=C("div"),n=C("div"),O(r.$$.fragment),s=X(),u=C("div"),O(i.$$.fragment),d=X(),o=C("div"),O(c.$$.fragment),_=X(),W&&W.c(),S=X(),E=C("div"),k=C("div"),h=C("div"),L&&L.c(),R=X(),b=C("div"),O(A.$$.fragment),$=X(),O(G.$$.fragment),this.h()},l(y){e=I(y,"FORM",{class:!0});var N=T(e);t=I(N,"DIV",{});var x=T(t);n=I(x,"DIV",{class:!0});var he=T(n);F(r.$$.fragment,he),he.forEach(g),s=Y(x),u=I(x,"DIV",{class:!0});var Ee=T(u);F(i.$$.fragment,Ee),Ee.forEach(g),d=Y(x),o=I(x,"DIV",{class:!0});var Me=T(o);F(c.$$.fragment,Me),Me.forEach(g),_=Y(x),W&&W.l(x),x.forEach(g),S=Y(N),E=I(N,"DIV",{});var Se=T(E);k=I(Se,"DIV",{class:!0});var pe=T(k);h=I(pe,"DIV",{});var ze=T(h);L&&L.l(ze),ze.forEach(g),R=Y(pe),b=I(pe,"DIV",{});var ye=T(b);F(A.$$.fragment,ye),$=Y(ye),F(G.$$.fragment,ye),ye.forEach(g),pe.forEach(g),Se.forEach(g),N.forEach(g),this.h()},h(){P(n,"class","mb-6"),P(u,"class","mb-6"),P(o,"class","mb-6"),P(k,"class","flex justify-between"),e.noValidate=!0,P(e,"class","form mb-6 flex flex-col justify-between svelte-b6q6p2")},m(y,N){M(y,e,N),D(e,t),D(t,n),V(r,n,null),D(t,s),D(t,u),V(i,u,null),D(t,d),D(t,o),V(c,o,null),D(t,_),W&&W.m(t,null),D(e,S),D(e,E),D(E,k),D(k,h),L&&L.m(h,null),D(k,R),D(k,b),V(A,b,null),D(b,$),V(G,b,null),J=!0,me||(ve=We(e,"submit",Yt(a[14])),me=!0)},p(y,N){var pe,ze,ye,ft,dt,ct;const x={};N&8&&(x.disabled=y[3]),N&16&&(x.isInvalid=((pe=y[4])==null?void 0:pe.name)!==void 0),N&16&&(x.helperMessage=(ye=(ze=y[4])==null?void 0:ze.name)==null?void 0:ye.message),!l&&N&4&&(l=!0,x.value=y[2].name,we(()=>l=!1)),r.$set(x);const he={};N&8&&(he.disabled=y[3]),N&16&&(he.isInvalid=((ft=y[4])==null?void 0:ft.sort_index)!==void 0),N&16&&(he.helperMessage=(ct=(dt=y[4])==null?void 0:dt.sort_index)==null?void 0:ct.message),!f&&N&4&&(f=!0,he.value=y[2].sort_index,we(()=>f=!1)),i.$set(he);const Ee={};!m&&N&4&&(m=!0,Ee.value=y[2].group_id,we(()=>m=!1)),c.$set(Ee),y[1]==="update"?W?(W.p(y,N),N&2&&p(W,1)):(W=Rt(y),W.c(),p(W,1),W.m(t,null)):W&&(_e(),w(W,1,1,()=>{W=null}),be()),y[1]!=="add"?L?(L.p(y,N),N&2&&p(L,1)):(L=At(y),L.c(),p(L,1),L.m(h,null)):L&&(_e(),w(L,1,1,()=>{L=null}),be());const Me={};N&8&&(Me.disabled=y[3]),N&134217728&&(Me.$$scope={dirty:N,ctx:y}),A.$set(Me);const Se={};N&8&&(Se.disabled=y[3]),N&134217738&&(Se.$$scope={dirty:N,ctx:y}),G.$set(Se)},i(y){J||(p(r.$$.fragment,y),p(i.$$.fragment,y),p(c.$$.fragment,y),p(W),p(L),p(A.$$.fragment,y),p(G.$$.fragment,y),J=!0)},o(y){w(r.$$.fragment,y),w(i.$$.fragment,y),w(c.$$.fragment,y),w(W),w(L),w(A.$$.fragment,y),w(G.$$.fragment,y),J=!1},d(y){y&&g(e),j(r),j(i),j(c),W&&W.d(),L&&L.d(),j(A),j(G),me=!1,ve()}}}function Rt(a){var n,r,l,s;let e,t;return e=new Bn({props:{created_at:(n=a[0])==null?void 0:n.created_at,created_by_id:(r=a[0])==null?void 0:r.created_by_id,updated_at:(l=a[0])==null?void 0:l.updated_at,updated_by_id:(s=a[0])==null?void 0:s.updated_by_id}}),{c(){O(e.$$.fragment)},l(u){F(e.$$.fragment,u)},m(u,i){V(e,u,i),t=!0},p(u,i){var d,o,c,m;const f={};i&1&&(f.created_at=(d=u[0])==null?void 0:d.created_at),i&1&&(f.created_by_id=(o=u[0])==null?void 0:o.created_by_id),i&1&&(f.updated_at=(c=u[0])==null?void 0:c.updated_at),i&1&&(f.updated_by_id=(m=u[0])==null?void 0:m.updated_by_id),e.$set(f)},i(u){t||(p(e.$$.fragment,u),t=!0)},o(u){w(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function At(a){let e,t;return e=new Ue({props:{type:"button",size:"xs",color:"red",disabled:a[3],$$slots:{default:[Hn]},$$scope:{ctx:a}}}),e.$on("click",a[18]),{c(){O(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){V(e,n,r),t=!0},p(n,r){const l={};r&8&&(l.disabled=n[3]),r&134217728&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Hn(a){let e;return{c(){e=U("Delete")},l(t){e=q(t,"Delete")},m(t,n){M(t,e,n)},d(t){t&&g(e)}}}function Gn(a){let e;return{c(){e=U("Reset")},l(t){e=q(t,"Reset")},m(t,n){M(t,e,n)},d(t){t&&g(e)}}}function Jn(a){let e=a[1]==="add"?"Add":"Update",t;return{c(){t=U(e)},l(n){t=q(n,e)},m(n,r){M(n,t,r)},p(n,r){r&2&&e!==(e=n[1]==="add"?"Add":"Update")&&oe(t,e)},d(n){n&&g(t)}}}function Qn(a){let e;return{c(){e=U("...")},l(t){e=q(t,"...")},m(t,n){M(t,e,n)},p:Z,d(t){t&&g(e)}}}function Kn(a){let e;function t(l,s){return l[3]?Qn:Jn}let n=t(a),r=n(a);return{c(){r.c(),e=H()},l(l){r.l(l),e=H()},m(l,s){r.m(l,s),M(l,e,s)},p(l,s){n===(n=t(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&g(e),r.d(l)}}}function Zn(a){let e,t,n=a[2]&&Nt(a);return{c(){n&&n.c(),e=H()},l(r){n&&n.l(r),e=H()},m(r,l){n&&n.m(r,l),M(r,e,l),t=!0},p(r,[l]){r[2]?n?(n.p(r,l),l&4&&p(n,1)):(n=Nt(r),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(_e(),w(n,1,1,()=>{n=null}),be())},i(r){t||(p(n),t=!0)},o(r){w(n),t=!1},d(r){r&&g(e),n&&n.d(r)}}}function xn(a,e,t){let n,r,l,s,u,i;const{loading:f,targetRole:d,model:o,action:c,addRole:m,updateRole:_,deleteRole:S}=Vt();te(a,f,v=>t(3,u=v)),te(a,d,v=>t(0,n=v)),te(a,o,v=>t(2,l=v)),te(a,c,v=>t(1,r=v));const{closeDrawer:E}=nt(),{store:{roles:k}}=Oe,{errors:h,submitted:R,validate:b,reset:A}=ea(ta({name:aa().required("Name is required").label("Name"),sort_index:na().required().label("Sort Index")}));te(a,h,v=>t(4,i=v)),te(a,R,v=>t(19,s=v));const $=()=>{n&&o.set({name:n.name,sort_index:(n==null?void 0:n.sort_index)??0,group_id:`${n==null?void 0:n.role_group_id}`??"0"}),R.set(!1),A()},G=async()=>{if(!s)return;const{name:v,sort_index:fe}=l;await b({name:v,sort_index:fe})},J=async()=>{try{f.set(!0),R.set(!0);const{name:v,sort_index:fe,group_id:se}=l;switch(await b({name:v,sort_index:fe}),r){case"add":await m({...n,name:v,sort_index:fe,role_group_id:parseInt(se,10)});break;case"update":await _({...n,name:v,sort_index:fe,role_group_id:parseInt(se,10)});break;case"delete":n!=null&&n.id&&await S(n.id);break;default:}await k.reload(),E()}catch(v){console.log("submit failed",v)}finally{f.set(!1)}};d.subscribe(v=>{v&&o.set({name:v==null?void 0:v.name,sort_index:(v==null?void 0:v.sort_index)??0,group_id:`${v==null?void 0:v.role_group_id}`??"0"})});function me(v){de.call(this,a,v)}function ve(v){a.$$.not_equal(l.name,v)&&(l.name=v,o.set(l))}function z(v){a.$$.not_equal(l.sort_index,v)&&(l.sort_index=v,o.set(l))}function Q(v){a.$$.not_equal(l.group_id,v)&&(l.group_id=v,o.set(l))}return[n,r,l,u,i,f,d,o,c,h,R,$,G,J,me,ve,z,Q,()=>{c.set("delete"),J()}]}class $n extends ne{constructor(e){super(),re(this,e,xn,Zn,ae,{})}}function er(a){let e,t,n="User",r,l,s,u,i;return l=new Kt({props:{class:"mb-4 dark:text-white"}}),l.$on("click",a[3]),u=new $n({}),{c(){e=C("div"),t=C("h5"),t.textContent=n,r=X(),O(l.$$.fragment),s=X(),O(u.$$.fragment),this.h()},l(f){e=I(f,"DIV",{class:!0});var d=T(e);t=I(d,"H5",{id:!0,class:!0,"data-svelte-h":!0}),Ot(t)!=="svelte-tpi0tj"&&(t.textContent=n),r=Y(d),F(l.$$.fragment,d),d.forEach(g),s=Y(f),F(u.$$.fragment,f),this.h()},h(){P(t,"id","drawer-label"),P(t,"class","inline-flex items-center mb-6 text-base font-semibold text-gray-500 uppercase dark:text-gray-400"),P(e,"class","flex items-center")},m(f,d){M(f,e,d),D(e,t),D(e,r),V(l,e,null),M(f,s,d),V(u,f,d),i=!0},p:Z,i(f){i||(p(l.$$.fragment,f),p(u.$$.fragment,f),i=!0)},o(f){w(l.$$.fragment,f),w(u.$$.fragment,f),i=!1},d(f){f&&(g(e),g(s)),j(l),j(u,f)}}}function tr(a){let e,t,n;function r(s){a[4](s)}let l={transitionType:"fly",transitionParams:a[1],id:"sidebar4",placement:"right",$$slots:{default:[er]},$$scope:{ctx:a}};return a[0]!==void 0&&(l.hidden=a[0]),e=new xt({props:l}),ke.push(()=>De(e,"hidden",r)),{c(){O(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,u){V(e,s,u),n=!0},p(s,[u]){const i={};u&32&&(i.$$scope={dirty:u,ctx:s}),!t&&u&1&&(t=!0,i.hidden=s[0],we(()=>t=!1)),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function ar(a,e,t){let n,r={x:320,duration:200,easing:Zt};const{drawerClosed:l,closeDrawer:s}=nt();te(a,l,i=>t(0,n=i));function u(i){n=i,l.set(n)}return[n,r,l,s,u]}class nr extends ne{constructor(e){super(),re(this,e,ar,tr,ae,{})}}function rr(a){let e,t="No data";return{c(){e=C("p"),e.textContent=t},l(n){e=I(n,"P",{"data-svelte-h":!0}),Ot(e)!=="svelte-t5me1l"&&(e.textContent=t)},m(n,r){M(n,e,r)},p:Z,i:Z,o:Z,d(n){n&&g(e)}}}function lr(a){let e,t,n,r,l,s,u,i,f,d;return l=new Ue({props:{size:"xs",color:"alternative",$$slots:{default:[sr]},$$scope:{ctx:a}}}),l.$on("click",a[9]),u=new Ht({props:{options:a[2],data:a[1],loading:a[4]}}),f=new nr({}),{c(){e=C("div"),t=C("p"),n=U(a[0]),r=X(),O(l.$$.fragment),s=X(),O(u.$$.fragment),i=X(),O(f.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var c=T(e);t=I(c,"P",{class:!0});var m=T(t);n=q(m,a[0]),m.forEach(g),r=Y(c),F(l.$$.fragment,c),c.forEach(g),s=Y(o),F(u.$$.fragment,o),i=Y(o),F(f.$$.fragment,o),this.h()},h(){P(t,"class","text-base dark:text-white"),P(e,"class","flex justify-between mb-4 items-center mx-5")},m(o,c){M(o,e,c),D(e,t),D(t,n),D(e,r),V(l,e,null),M(o,s,c),V(u,o,c),M(o,i,c),V(f,o,c),d=!0},p(o,c){(!d||c&1)&&oe(n,o[0]);const m={};c&131072&&(m.$$scope={dirty:c,ctx:o}),l.$set(m);const _={};c&4&&(_.options=o[2]),c&2&&(_.data=o[1]),c&16&&(_.loading=o[4]),u.$set(_)},i(o){d||(p(l.$$.fragment,o),p(u.$$.fragment,o),p(f.$$.fragment,o),d=!0)},o(o){w(l.$$.fragment,o),w(u.$$.fragment,o),w(f.$$.fragment,o),d=!1},d(o){o&&(g(e),g(s),g(i)),j(l),j(u,o),j(f,o)}}}function sr(a){let e;return{c(){e=U("Add")},l(t){e=q(t,"Add")},m(t,n){M(t,e,n)},d(t){t&&g(e)}}}function ir(a){let e,t,n,r;const l=[lr,rr],s=[];function u(i,f){return i[2]&&i[3]&&i[3].length>0?0:1}return e=u(a),t=s[e]=l[e](a),{c(){t.c(),n=H()},l(i){t.l(i),n=H()},m(i,f){s[e].m(i,f),M(i,n,f),r=!0},p(i,[f]){let d=e;e=u(i),e===d?s[e].p(i,f):(_e(),w(s[d],1,1,()=>{s[d]=null}),be(),t=s[e],t?t.p(i,f):(t=s[e]=l[e](i),t.c()),p(t,1),t.m(n.parentNode,n))},i(i){r||(p(t),r=!0)},o(i){w(t),r=!1},d(i){i&&g(n),s[e].d(i)}}}function or(a,e,t){let n,r,l,s,{title:u="Roles"}=e;const{store:{roles:i}}=Oe;te(a,i,b=>t(3,l=b));const{openDrawer:f}=nt(),{targetRole:d,action:o}=Vt(),{loading:c}=i;te(a,c,b=>t(4,s=b));const m={onRowClick:b=>{o.set("update"),f();const A={...b},$={id:A.id,name:A.name,role_group_id:A.group_id,sort_index:A.sort_index,uuid:A.uuid,created_by_id:A.created_by_id,created_at:A.created_at,updated_by_id:A.updated_by_id,updated_at:A.updated_at};d.set($),console.log("### row click",b)},columnDefs:[{label:"Name",dataProperty:"name",dataType:Xe.String,viewAlignment:Ye.Left},{label:"Group",dataProperty:"group_name",dataType:Xe.String,viewAlignment:Ye.Left},{label:"Sort Index",dataProperty:"sort_index",dataType:Xe.String,viewAlignment:Ye.Right,width:32}]},_=Gt(m),{store:{options:S,data:E},actions:{setRowData:k}}=_;te(a,S,b=>t(2,r=b)),te(a,E,b=>t(1,n=b));const h=()=>{o.set("add"),d.set({name:"",sort_index:0}),f()},R=i.subscribe(b=>{k(b)});return Bt(()=>{R(),Da(),Ta()}),a.$$set=b=>{"title"in b&&t(0,u=b.title)},a.$$.update=()=>{a.$$.dirty&2&&console.log("### data",n)},[u,n,r,l,s,i,c,S,E,h]}class ur extends ne{constructor(e){super(),re(this,e,or,ir,ae,{title:0})}}function fr(a){let e,t;return e=new ur({}),{c(){O(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){V(e,n,r),t=!0},p:Z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}class Dr extends ne{constructor(e){super(),re(this,e,null,fr,ae,{})}}export{Dr as component};
