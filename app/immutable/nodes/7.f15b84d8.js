import{s as N,b as j,k as z,n as O,o as U}from"../chunks/scheduler.f5d5ad8b.js";import{S as B,i as F,r as d,u as _,v as g,d as w,t as h,w as v,g as P,s as C,h as S,j as V,y as A,c as y,f as b,k as R,a as k,A as x,G as T,m as J,n as K}from"../chunks/index.ae74f566.js";import{a as D,b as E}from"../chunks/navigation.165a6521.js";import{B as Q}from"../chunks/Button.9f329a39.js";import{C as W,L as I,I as G}from"../chunks/Input.c0ed5bf7.js";function X(r){let t,n="Password",a,s,o,i;function p(e){r[2](e)}let f={type:"password",name:"password1",placeholder:"***",required:!0};return r[0].password1!==void 0&&(f.value=r[0].password1),s=new G({props:f}),j.push(()=>T(s,"value",p)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=S(e,"SPAN",{"data-svelte-h":!0}),A(t)!=="svelte-1kvjhoz"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,c){k(e,t,c),k(e,a,c),g(s,e,c),i=!0},p(e,c){const $={};!o&&c&1&&(o=!0,$.value=e[0].password1,z(()=>o=!1)),s.$set($)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(b(t),b(a)),v(s,e)}}}function Y(r){let t,n="Retype Password",a,s,o,i;function p(e){r[3](e)}let f={type:"password",name:"password2",placeholder:"***",required:!0};return r[0].password2!==void 0&&(f.value=r[0].password2),s=new G({props:f}),j.push(()=>T(s,"value",p)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=S(e,"SPAN",{"data-svelte-h":!0}),A(t)!=="svelte-1gqimd8"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,c){k(e,t,c),k(e,a,c),g(s,e,c),i=!0},p(e,c){const $={};!o&&c&1&&(o=!0,$.value=e[0].password2,z(()=>o=!1)),s.$set($)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(b(t),b(a)),v(s,e)}}}function Z(r){let t;return{c(){t=J("Restore email password")},l(n){t=K(n,"Restore email password")},m(n,a){k(n,t,a)},d(n){n&&b(t)}}}function tt(r){let t,n,a="Reset Password",s,o,i,p,f,e,c='Not registered? <a href="/auth/sign-up" class="text-primary-700 hover:underline dark:text-primary-500">Create account</a>',$,m,q;return o=new I({props:{class:"space-y-2",$$slots:{default:[X]},$$scope:{ctx:r}}}),p=new I({props:{class:"space-y-2",$$slots:{default:[Y]},$$scope:{ctx:r}}}),m=new Q({props:{type:"button",class:"w-full",$$slots:{default:[Z]},$$scope:{ctx:r}}}),m.$on("click",r[1]),{c(){t=P("form"),n=P("h3"),n.textContent=a,s=C(),d(o.$$.fragment),i=C(),d(p.$$.fragment),f=C(),e=P("div"),e.innerHTML=c,$=C(),d(m.$$.fragment),this.h()},l(u){t=S(u,"FORM",{class:!0,action:!0});var l=V(t);n=S(l,"H3",{class:!0,"data-svelte-h":!0}),A(n)!=="svelte-8khtn4"&&(n.textContent=a),s=y(l),_(o.$$.fragment,l),i=y(l),_(p.$$.fragment,l),f=y(l),e=S(l,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1rrzm7r"&&(e.innerHTML=c),$=y(l),_(m.$$.fragment,l),l.forEach(b),this.h()},h(){R(n,"class","text-xl font-medium text-gray-900 dark:text-white"),R(e,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),R(t,"class","flex flex-col space-y-6"),R(t,"action","/")},m(u,l){k(u,t,l),x(t,n),x(t,s),g(o,t,null),x(t,i),g(p,t,null),x(t,f),x(t,e),x(t,$),g(m,t,null),q=!0},p(u,l){const L={};l&33&&(L.$$scope={dirty:l,ctx:u}),o.$set(L);const M={};l&33&&(M.$$scope={dirty:l,ctx:u}),p.$set(M);const H={};l&32&&(H.$$scope={dirty:l,ctx:u}),m.$set(H)},i(u){q||(w(o.$$.fragment,u),w(p.$$.fragment,u),w(m.$$.fragment,u),q=!0)},o(u){h(o.$$.fragment,u),h(p.$$.fragment,u),h(m.$$.fragment,u),q=!1},d(u){u&&b(t),v(o),v(p),v(m)}}}function et(r){let t,n;return t=new W({props:{class:"w-full max-w-md",$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p(a,[s]){const o={};s&33&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}function st(r,t,n){const{actions:{resetPassword:a}}=E;let s={password1:"",password2:""};const o=async()=>{console.log("### onSubmit",s),await a(s.password1),await D("/auth/sign-in")};function i(f){r.$$.not_equal(s.password1,f)&&(s.password1=f,n(0,s))}function p(f){r.$$.not_equal(s.password2,f)&&(s.password2=f,n(0,s))}return[s,o,i,p]}class at extends B{constructor(t){super(),F(this,t,st,et,N,{})}}function nt(r){let t,n;return t=new at({}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p:O,i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}function rt(r){const{actions:{isAuthenticated:t}}=E;return U(async()=>{await t()&&await D("/")}),[]}class pt extends B{constructor(t){super(),F(this,t,rt,nt,N,{})}}export{pt as component};
