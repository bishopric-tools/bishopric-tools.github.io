import{s as I,b as N,k as z,n as O,j as U,o as V}from"../chunks/scheduler.57873a3f.js";import{S as B,i as F,r as d,u as _,v as g,d as w,t as h,w as v,g as P,s as C,h as S,j as J,y as L,c as y,f as b,k as R,a as k,A as x,G as T,m as K,n as Q}from"../chunks/index.56261290.js";import{a as D,b as E}from"../chunks/navigation.ed95c3f7.js";import{C as W,L as H,B as X,I as G}from"../chunks/Input.dc2fd0bb.js";function Y(r){let t,n="Password",a,s,o,i;function f(e){r[2](e)}let p={type:"password",name:"password1",placeholder:"***",required:!0};return r[0].password1!==void 0&&(p.value=r[0].password1),s=new G({props:p}),N.push(()=>T(s,"value",f)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=S(e,"SPAN",{"data-svelte-h":!0}),L(t)!=="svelte-1kvjhoz"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,c){k(e,t,c),k(e,a,c),g(s,e,c),i=!0},p(e,c){const $={};!o&&c&1&&(o=!0,$.value=e[0].password1,z(()=>o=!1)),s.$set($)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(b(t),b(a)),v(s,e)}}}function Z(r){let t,n="Retype Password",a,s,o,i;function f(e){r[3](e)}let p={type:"password",name:"password2",placeholder:"***",required:!0};return r[0].password2!==void 0&&(p.value=r[0].password2),s=new G({props:p}),N.push(()=>T(s,"value",f)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=S(e,"SPAN",{"data-svelte-h":!0}),L(t)!=="svelte-1gqimd8"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,c){k(e,t,c),k(e,a,c),g(s,e,c),i=!0},p(e,c){const $={};!o&&c&1&&(o=!0,$.value=e[0].password2,z(()=>o=!1)),s.$set($)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(b(t),b(a)),v(s,e)}}}function tt(r){let t;return{c(){t=K("Restore email password")},l(n){t=Q(n,"Restore email password")},m(n,a){k(n,t,a)},d(n){n&&b(t)}}}function et(r){let t,n,a="Reset Password",s,o,i,f,p,e,c='Not registered? <a href="/auth/sign-up" class="text-primary-700 hover:underline dark:text-primary-500">Create account</a>',$,m,q;return o=new H({props:{class:"space-y-2",$$slots:{default:[Y]},$$scope:{ctx:r}}}),f=new H({props:{class:"space-y-2",$$slots:{default:[Z]},$$scope:{ctx:r}}}),m=new X({props:{type:"button",class:"w-full",$$slots:{default:[tt]},$$scope:{ctx:r}}}),m.$on("click",r[1]),{c(){t=P("form"),n=P("h3"),n.textContent=a,s=C(),d(o.$$.fragment),i=C(),d(f.$$.fragment),p=C(),e=P("div"),e.innerHTML=c,$=C(),d(m.$$.fragment),this.h()},l(u){t=S(u,"FORM",{class:!0,action:!0});var l=J(t);n=S(l,"H3",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-8khtn4"&&(n.textContent=a),s=y(l),_(o.$$.fragment,l),i=y(l),_(f.$$.fragment,l),p=y(l),e=S(l,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1rrzm7r"&&(e.innerHTML=c),$=y(l),_(m.$$.fragment,l),l.forEach(b),this.h()},h(){R(n,"class","text-xl font-medium text-gray-900 dark:text-white"),R(e,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),R(t,"class","flex flex-col space-y-6"),R(t,"action","/")},m(u,l){k(u,t,l),x(t,n),x(t,s),g(o,t,null),x(t,i),g(f,t,null),x(t,p),x(t,e),x(t,$),g(m,t,null),q=!0},p(u,l){const M={};l&33&&(M.$$scope={dirty:l,ctx:u}),o.$set(M);const j={};l&33&&(j.$$scope={dirty:l,ctx:u}),f.$set(j);const A={};l&32&&(A.$$scope={dirty:l,ctx:u}),m.$set(A)},i(u){q||(w(o.$$.fragment,u),w(f.$$.fragment,u),w(m.$$.fragment,u),q=!0)},o(u){h(o.$$.fragment,u),h(f.$$.fragment,u),h(m.$$.fragment,u),q=!1},d(u){u&&b(t),v(o),v(f),v(m)}}}function st(r){let t,n;return t=new W({props:{class:"w-full max-w-md",$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p(a,[s]){const o={};s&33&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}function at(r,t,n){const{actions:{resetPassword:a}}=E;let s={password1:"",password2:""};const o=async()=>{console.log("### onSubmit",s),await a(s.password1),await D("/auth/sign-in")};function i(p){r.$$.not_equal(s.password1,p)&&(s.password1=p,n(0,s))}function f(p){r.$$.not_equal(s.password2,p)&&(s.password2=p,n(0,s))}return[s,o,i,f]}class nt extends B{constructor(t){super(),F(this,t,at,st,I,{})}}function rt(r){let t,n;return t=new nt({}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p:O,i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}function ot(r,t,n){let a;const{store:{authenticated:s}}=E;return U(r,s,o=>n(1,a=o)),V(()=>{a&&D("/")}),[s]}class ft extends B{constructor(t){super(),F(this,t,ot,rt,I,{})}}export{ft as component};
