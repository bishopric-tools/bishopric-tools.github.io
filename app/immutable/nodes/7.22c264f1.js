import{s as N,b as j,k as z,n as E}from"../chunks/scheduler.f5d5ad8b.js";import{S as B,i as F,r as d,u as _,v as g,d as w,t as h,w as v,g as P,s as C,h as q,j as G,y as L,c as y,f as x,k as R,a as k,A as b,G as T,m as O,n as U}from"../chunks/index.ae74f566.js";import{B as V,a as J}from"../chunks/auth.state.12f16daa.js";import{C as K,L as M,I as D}from"../chunks/Input.1a5f0168.js";import"../chunks/Indicator.svelte_svelte_type_style_lang.063c4f60.js";import{g as Q}from"../chunks/navigation.9347142d.js";function W(r){let t,n="Password",a,s,o,i;function f(e){r[2](e)}let p={type:"password",name:"password1",placeholder:"***",required:!0};return r[0].password1!==void 0&&(p.value=r[0].password1),s=new D({props:p}),j.push(()=>T(s,"value",f)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=q(e,"SPAN",{"data-svelte-h":!0}),L(t)!=="svelte-1kvjhoz"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,$){k(e,t,$),k(e,a,$),g(s,e,$),i=!0},p(e,$){const c={};!o&&$&1&&(o=!0,c.value=e[0].password1,z(()=>o=!1)),s.$set(c)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(x(t),x(a)),v(s,e)}}}function X(r){let t,n="Retype Password",a,s,o,i;function f(e){r[3](e)}let p={type:"password",name:"password2",placeholder:"***",required:!0};return r[0].password2!==void 0&&(p.value=r[0].password2),s=new D({props:p}),j.push(()=>T(s,"value",f)),{c(){t=P("span"),t.textContent=n,a=C(),d(s.$$.fragment)},l(e){t=q(e,"SPAN",{"data-svelte-h":!0}),L(t)!=="svelte-1gqimd8"&&(t.textContent=n),a=y(e),_(s.$$.fragment,e)},m(e,$){k(e,t,$),k(e,a,$),g(s,e,$),i=!0},p(e,$){const c={};!o&&$&1&&(o=!0,c.value=e[0].password2,z(()=>o=!1)),s.$set(c)},i(e){i||(w(s.$$.fragment,e),i=!0)},o(e){h(s.$$.fragment,e),i=!1},d(e){e&&(x(t),x(a)),v(s,e)}}}function Y(r){let t;return{c(){t=O("Restore email password")},l(n){t=U(n,"Restore email password")},m(n,a){k(n,t,a)},d(n){n&&x(t)}}}function Z(r){let t,n,a="Reset Password",s,o,i,f,p,e,$='Not registered? <a href="/auth/sign-up" class="text-primary-700 hover:underline dark:text-primary-500">Create account</a>',c,m,S;return o=new M({props:{class:"space-y-2",$$slots:{default:[W]},$$scope:{ctx:r}}}),f=new M({props:{class:"space-y-2",$$slots:{default:[X]},$$scope:{ctx:r}}}),m=new V({props:{type:"button",class:"w-full",$$slots:{default:[Y]},$$scope:{ctx:r}}}),m.$on("click",r[1]),{c(){t=P("form"),n=P("h3"),n.textContent=a,s=C(),d(o.$$.fragment),i=C(),d(f.$$.fragment),p=C(),e=P("div"),e.innerHTML=$,c=C(),d(m.$$.fragment),this.h()},l(u){t=q(u,"FORM",{class:!0,action:!0});var l=G(t);n=q(l,"H3",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-8khtn4"&&(n.textContent=a),s=y(l),_(o.$$.fragment,l),i=y(l),_(f.$$.fragment,l),p=y(l),e=q(l,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1rrzm7r"&&(e.innerHTML=$),c=y(l),_(m.$$.fragment,l),l.forEach(x),this.h()},h(){R(n,"class","text-xl font-medium text-gray-900 dark:text-white"),R(e,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),R(t,"class","flex flex-col space-y-6"),R(t,"action","/")},m(u,l){k(u,t,l),b(t,n),b(t,s),g(o,t,null),b(t,i),g(f,t,null),b(t,p),b(t,e),b(t,c),g(m,t,null),S=!0},p(u,l){const A={};l&33&&(A.$$scope={dirty:l,ctx:u}),o.$set(A);const H={};l&33&&(H.$$scope={dirty:l,ctx:u}),f.$set(H);const I={};l&32&&(I.$$scope={dirty:l,ctx:u}),m.$set(I)},i(u){S||(w(o.$$.fragment,u),w(f.$$.fragment,u),w(m.$$.fragment,u),S=!0)},o(u){h(o.$$.fragment,u),h(f.$$.fragment,u),h(m.$$.fragment,u),S=!1},d(u){u&&x(t),v(o),v(f),v(m)}}}function tt(r){let t,n;return t=new K({props:{class:"w-full max-w-md",$$slots:{default:[Z]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p(a,[s]){const o={};s&33&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}function et(r,t,n){const{actions:{resetPassword:a}}=J;let s={password1:"",password2:""};const o=async()=>{await a(s.password1),await Q("/auth/sign-in")};function i(p){r.$$.not_equal(s.password1,p)&&(s.password1=p,n(0,s))}function f(p){r.$$.not_equal(s.password2,p)&&(s.password2=p,n(0,s))}return[s,o,i,f]}class st extends B{constructor(t){super(),F(this,t,et,tt,N,{})}}function at(r){let t,n;return t=new st({}),{c(){d(t.$$.fragment)},l(a){_(t.$$.fragment,a)},m(a,s){g(t,a,s),n=!0},p:E,i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){h(t.$$.fragment,a),n=!1},d(a){v(t,a)}}}class pt extends B{constructor(t){super(),F(this,t,null,at,N,{})}}export{pt as component};
