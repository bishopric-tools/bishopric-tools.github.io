import{$ as Se,s as pe,e as le,i as v,d as m,z as U,p as be,f as F,a as M,g as R,h as H,c as L,j as O,x as S,E as it,a0 as at,M as he,l as W,m as X,P as ot,n as Ae,y as ye,C as Ne,a1 as lt,Z as Pt,o as It}from"../chunks/scheduler.b53f554c.js";import{S as me,i as _e,a as c,g as ue,t as _,c as de,f as we,b as y,d as D,m as P,e as I}from"../chunks/index.8dc6213e.js";import{p as St}from"../chunks/stores.2471d7ab.js";import{N as ut,I as dt,S as Ct,T as Tt,a as Be}from"../chunks/SelectField.39e76342.js";import{P as je}from"../chunks/P.e17eb30e.js";import{B as ve}from"../chunks/Button.faff8da5.js";import{D as Te,a as Ee,b as ft,c as ct}from"../chunks/DataTable.6160a59c.js";import{p as Ve,r as ke,a as qe,e as He}from"../chunks/rbac.state.587bfccc.js";import{w as ne,d as Et}from"../chunks/index.adf7635c.js";import{a as pt}from"../chunks/auth.state.423078db.js";import{n as mt}from"../chunks/toaster.state.1b746a50.js";import{C as _t,c as gt}from"../chunks/CloseButton.cc7e1be4.js";import{D as $t}from"../chunks/Drawer.beaec89c.js";import{f as bt,c as ht,a as wt,b as vt,T as kt}from"../chunks/TextField.422033c6.js";import{g as At}from"../chunks/navigation.8ce23afe.js";let ee=null;const Nt=()=>(ee={drawerClosed:ne(!0),focusedUser:ne(null),closeDrawer:()=>{ee!=null&&ee.drawerClosed&&ee.drawerClosed.set(!0)},openDrawer:()=>{ee!=null&&ee.drawerClosed&&ee.drawerClosed.set(!1)}},ee),Vt=()=>{ee=null},Ge=()=>ee||Nt(),{store:{currentUser:Ke}}=pt,{store:{permissions:Ze}}=ke,{action:{toastify:Pe}}=mt,qt={name:"",sort_index:0},Gt={name:"",sort_index:0};let ie=null,Ce=null;const Ut=()=>(Ce=ne(qt),ie={loading:ne(!1),model:ne(Gt),action:ne("view"),targetPermissionGroup:Ce,canDelete:Et([Ze,Ce],([i,e])=>e?i.filter(t=>t.group_id===e.id).length===0:!1),addPermissionGroup:async i=>{var e,s,t,r;try{let n=i.sort_index;i.sort_index||(n=(((e=Se(Ze).sort((o,u)=>!(u!=null&&u.sort_index)||!(o!=null&&o.sort_index)?0:u.sort_index-o.sort_index)[1])==null?void 0:e.sort_index)??0)+1);const a=[{name:i.name,sort_index:n,created_by_id:(s=Se(Ke))==null?void 0:s.id,created_at:new Date().toISOString()}];await Ve.bulkCreate(a),(r=(t=ie==null?void 0:ie.targetPermissionGroup)==null?void 0:t.set)==null||r.call(t,null),Pe({type:"success",message:"Updated permission group successfully"})}catch{Pe({type:"error",message:"Update permission group failed, please refresh browser and try again."})}},updatePermissionGroup:async i=>{var e,s,t;try{const r=[{name:i.name,sort_index:i.sort_index,uuid:i.uuid,updated_by_id:(e=Se(Ke))==null?void 0:e.id,updated_at:new Date().toISOString()}];await Ve.bulkUpdate(r,{onConflict:"uuid"}),(t=(s=ie==null?void 0:ie.targetPermissionGroup)==null?void 0:s.set)==null||t.call(s,null),Pe({type:"success",message:"Updated permission group successfully."})}catch{Pe({type:"error",message:"Update permission group failed, please refresh browser and try again."})}},deletePermissionGroup:async i=>{if(i)try{await Ve.bulkDelete([i]),Pe({type:"success",message:"Deleted permission successfully."})}catch{Pe({type:"error",message:"Delete permission failed, please refresh browser and try again."})}}},ie),yt=()=>ie===null?Ut():ie,Ft=()=>{ie=null,Ce=null};function Je(i){var oe,ge,fe,G,f,h;let e,s,t,r,n,a,l,o,u,d,w,p,$,C,K,T,z,J,B;function E(b){i[17](b)}let k={type:"text",name:"permission-group-name",label:"Name",placeholder:"Name",disabled:i[3],isInvalid:((oe=i[4])==null?void 0:oe.name)!==void 0,helperMessage:(fe=(ge=i[4])==null?void 0:ge.name)==null?void 0:fe.message,novalidate:!0,required:!0};i[2].name!==void 0&&(k.value=i[2].name),t=new kt({props:k}),be.push(()=>we(t,"value",E)),t.$on("input",i[14]);function j(b){i[18](b)}let se={name:"permission-group-sort-index",label:"Sort Index",disabled:i[3],isInvalid:((G=i[4])==null?void 0:G.sort_index)!==void 0,helperMessage:(h=(f=i[4])==null?void 0:f.sort_index)==null?void 0:h.message,novalidate:!0,required:!0};i[2].sort_index!==void 0&&(se.value=i[2].sort_index),a=new ut({props:se}),be.push(()=>we(a,"value",j)),a.$on("input",i[14]);let N=i[1]==="update"&&Qe(i),q=i[1]!=="add"&&i[5]&&We(i);return C=new ve({props:{type:"button",size:"xs",class:"mr-2",color:"alternative",disabled:i[3],$$slots:{default:[Mt]},$$scope:{ctx:i}}}),C.$on("click",i[13]),T=new ve({props:{type:"button",size:"xs",disabled:i[3],$$slots:{default:[zt]},$$scope:{ctx:i}}}),T.$on("click",i[15]),{c(){e=F("form"),s=F("div"),y(t.$$.fragment),n=M(),y(a.$$.fragment),o=M(),N&&N.c(),u=M(),d=F("div"),w=F("div"),q&&q.c(),p=M(),$=F("div"),y(C.$$.fragment),K=M(),y(T.$$.fragment),this.h()},l(b){e=R(b,"FORM",{class:!0});var V=H(e);s=R(V,"DIV",{class:!0});var Q=H(s);D(t.$$.fragment,Q),n=L(Q),D(a.$$.fragment,Q),o=L(Q),N&&N.l(Q),Q.forEach(m),u=L(V),d=R(V,"DIV",{class:!0});var Y=H(d);w=R(Y,"DIV",{});var ce=H(w);q&&q.l(ce),ce.forEach(m),p=L(Y),$=R(Y,"DIV",{});var g=H($);D(C.$$.fragment,g),K=L(g),D(T.$$.fragment,g),g.forEach(m),Y.forEach(m),V.forEach(m),this.h()},h(){O(s,"class","space-y-6"),O(d,"class","flex justify-between"),e.noValidate=!0,O(e,"class","form mb-0 flex flex-col justify-between svelte-1dy7x2v")},m(b,V){v(b,e,V),S(e,s),P(t,s,null),S(s,n),P(a,s,null),S(s,o),N&&N.m(s,null),S(e,u),S(e,d),S(d,w),q&&q.m(w,null),S(d,p),S(d,$),P(C,$,null),S($,K),P(T,$,null),z=!0,J||(B=it(e,"submit",at(i[16])),J=!0)},p(b,V){var A,Z,x,$e,re,De;const Q={};V&8&&(Q.disabled=b[3]),V&16&&(Q.isInvalid=((A=b[4])==null?void 0:A.name)!==void 0),V&16&&(Q.helperMessage=(x=(Z=b[4])==null?void 0:Z.name)==null?void 0:x.message),!r&&V&4&&(r=!0,Q.value=b[2].name,he(()=>r=!1)),t.$set(Q);const Y={};V&8&&(Y.disabled=b[3]),V&16&&(Y.isInvalid=(($e=b[4])==null?void 0:$e.sort_index)!==void 0),V&16&&(Y.helperMessage=(De=(re=b[4])==null?void 0:re.sort_index)==null?void 0:De.message),!l&&V&4&&(l=!0,Y.value=b[2].sort_index,he(()=>l=!1)),a.$set(Y),b[1]==="update"?N?(N.p(b,V),V&2&&c(N,1)):(N=Qe(b),N.c(),c(N,1),N.m(s,null)):N&&(ue(),_(N,1,1,()=>{N=null}),de()),b[1]!=="add"&&b[5]?q?(q.p(b,V),V&34&&c(q,1)):(q=We(b),q.c(),c(q,1),q.m(w,null)):q&&(ue(),_(q,1,1,()=>{q=null}),de());const ce={};V&8&&(ce.disabled=b[3]),V&268435456&&(ce.$$scope={dirty:V,ctx:b}),C.$set(ce);const g={};V&8&&(g.disabled=b[3]),V&268435466&&(g.$$scope={dirty:V,ctx:b}),T.$set(g)},i(b){z||(c(t.$$.fragment,b),c(a.$$.fragment,b),c(N),c(q),c(C.$$.fragment,b),c(T.$$.fragment,b),z=!0)},o(b){_(t.$$.fragment,b),_(a.$$.fragment,b),_(N),_(q),_(C.$$.fragment,b),_(T.$$.fragment,b),z=!1},d(b){b&&m(e),I(t),I(a),N&&N.d(),q&&q.d(),I(C),I(T),J=!1,B()}}}function Qe(i){var t,r,n,a;let e,s;return e=new dt({props:{created_at:(t=i[0])==null?void 0:t.created_at,created_by_id:(r=i[0])==null?void 0:r.created_by_id,updated_at:(n=i[0])==null?void 0:n.updated_at,updated_by_id:(a=i[0])==null?void 0:a.updated_by_id}}),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,o){P(e,l,o),s=!0},p(l,o){var d,w,p,$;const u={};o&1&&(u.created_at=(d=l[0])==null?void 0:d.created_at),o&1&&(u.created_by_id=(w=l[0])==null?void 0:w.created_by_id),o&1&&(u.updated_at=(p=l[0])==null?void 0:p.updated_at),o&1&&(u.updated_by_id=($=l[0])==null?void 0:$.updated_by_id),e.$set(u)},i(l){s||(c(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){I(e,l)}}}function We(i){let e,s;return e=new ve({props:{type:"button",size:"xs",color:"red",disabled:i[3],$$slots:{default:[Rt]},$$scope:{ctx:i}}}),e.$on("click",i[19]),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){P(e,t,r),s=!0},p(t,r){const n={};r&8&&(n.disabled=t[3]),r&268435456&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function Rt(i){let e;return{c(){e=W("Delete")},l(s){e=X(s,"Delete")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function Mt(i){let e;return{c(){e=W("Reset")},l(s){e=X(s,"Reset")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function Lt(i){let e=i[1]==="add"?"Add":"Update",s;return{c(){s=W(e)},l(t){s=X(t,e)},m(t,r){v(t,s,r)},p(t,r){r&2&&e!==(e=t[1]==="add"?"Add":"Update")&&Ae(s,e)},d(t){t&&m(s)}}}function Ot(i){let e;return{c(){e=W("...")},l(s){e=X(s,"...")},m(s,t){v(s,e,t)},p:ye,d(s){s&&m(e)}}}function zt(i){let e;function s(n,a){return n[3]?Ot:Lt}let t=s(i),r=t(i);return{c(){r.c(),e=le()},l(n){r.l(n),e=le()},m(n,a){r.m(n,a),v(n,e,a)},p(n,a){t===(t=s(n))&&r?r.p(n,a):(r.d(1),r=t(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&m(e),r.d(n)}}}function Bt(i){let e,s,t=i[2]&&Je(i);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,n){t&&t.m(r,n),v(r,e,n),s=!0},p(r,[n]){r[2]?t?(t.p(r,n),n&4&&c(t,1)):(t=Je(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ue(),_(t,1,1,()=>{t=null}),de())},i(r){s||(c(t),s=!0)},o(r){_(t),s=!1},d(r){r&&m(e),t&&t.d(r)}}}function jt(i,e,s){let t,r,n,a,l,o,u;const{loading:d,targetPermissionGroup:w,model:p,action:$,canDelete:C,addPermissionGroup:K,updatePermissionGroup:T,deletePermissionGroup:z}=yt();U(i,d,h=>s(3,l=h)),U(i,w,h=>s(0,t=h)),U(i,p,h=>s(2,n=h)),U(i,$,h=>s(1,r=h)),U(i,C,h=>s(5,u=h));const{closeDrawer:J}=Ge(),{store:{permissionGroups:B}}=ke,{errors:E,submitted:k,validate:j,reset:se}=bt(ht({name:wt().required("Name is required").label("Name"),sort_index:vt().required().label("Sort Index")}));U(i,E,h=>s(4,o=h)),U(i,k,h=>s(20,a=h));const N=()=>{t&&p.set({name:t.name,sort_index:(t==null?void 0:t.sort_index)??0}),k.set(!1),se()},q=async()=>{if(!a)return;const{name:h,sort_index:b}=n;await j({name:h,sort_index:b})},oe=async()=>{try{d.set(!0),k.set(!0);const{name:h,sort_index:b}=n;switch(await j({name:h,sort_index:b}),r){case"add":await K({...t,name:h,sort_index:b});break;case"update":await T({...t,name:h,sort_index:b});break;case"delete":t!=null&&t.id&&await z(t.id);break;default:}await B.reload(),J()}catch(h){console.log("submit failed",h)}finally{d.set(!1)}};w.subscribe(h=>{h&&p.set({name:h==null?void 0:h.name,sort_index:(h==null?void 0:h.sort_index)??0})});function ge(h){ot.call(this,i,h)}function fe(h){i.$$.not_equal(n.name,h)&&(n.name=h,p.set(n))}function G(h){i.$$.not_equal(n.sort_index,h)&&(n.sort_index=h,p.set(n))}return[t,r,n,l,o,u,d,w,p,$,C,E,k,N,q,oe,ge,fe,G,()=>{$.set("delete"),oe()}]}class Ht extends me{constructor(e){super(),_e(this,e,jt,Bt,pe,{})}}function Kt(i){let e,s,t="Permission Group",r,n,a,l,o;return n=new _t({props:{class:"mb-4 dark:text-white"}}),n.$on("click",i[3]),l=new Ht({}),{c(){e=F("div"),s=F("h5"),s.textContent=t,r=M(),y(n.$$.fragment),a=M(),y(l.$$.fragment),this.h()},l(u){e=R(u,"DIV",{class:!0});var d=H(e);s=R(d,"H5",{id:!0,class:!0,"data-svelte-h":!0}),Ne(s)!=="svelte-1amlidg"&&(s.textContent=t),r=L(d),D(n.$$.fragment,d),d.forEach(m),a=L(u),D(l.$$.fragment,u),this.h()},h(){O(s,"id","drawer-label"),O(s,"class","inline-flex items-center mb-6 text-base font-semibold text-gray-500 uppercase dark:text-gray-400"),O(e,"class","flex items-center")},m(u,d){v(u,e,d),S(e,s),S(e,r),P(n,e,null),v(u,a,d),P(l,u,d),o=!0},p:ye,i(u){o||(c(n.$$.fragment,u),c(l.$$.fragment,u),o=!0)},o(u){_(n.$$.fragment,u),_(l.$$.fragment,u),o=!1},d(u){u&&(m(e),m(a)),I(n),I(l,u)}}}function Zt(i){let e,s,t;function r(a){i[4](a)}let n={transitionType:"fly",transitionParams:i[1],id:"permission-group-drawer",placement:"right",class:"mt-0",$$slots:{default:[Kt]},$$scope:{ctx:i}};return i[0]!==void 0&&(n.hidden=i[0]),e=new $t({props:n}),be.push(()=>we(e,"hidden",r)),{c(){y(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,l){P(e,a,l),t=!0},p(a,[l]){const o={};l&32&&(o.$$scope={dirty:l,ctx:a}),!s&&l&1&&(s=!0,o.hidden=a[0],he(()=>s=!1)),e.$set(o)},i(a){t||(c(e.$$.fragment,a),t=!0)},o(a){_(e.$$.fragment,a),t=!1},d(a){I(e,a)}}}function Jt(i,e,s){let t,r={x:320,duration:200,easing:gt};const{drawerClosed:n,closeDrawer:a}=Ge();U(i,n,o=>s(0,t=o));function l(o){t=o,n.set(t)}return[t,r,n,a,l]}class Qt extends me{constructor(e){super(),_e(this,e,Jt,Zt,pe,{})}}function Xe(i){let e,s,t;return s=new ft({props:{options:i[1],data:i[3],loading:i[4],$$slots:{header:[Xt]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(s.$$.fragment),this.h()},l(r){e=R(r,"DIV",{class:!0});var n=H(e);D(s.$$.fragment,n),n.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-3")},m(r,n){v(r,e,n),P(s,e,null),t=!0},p(r,n){const a={};n&2&&(a.options=r[1]),n&8&&(a.data=r[3]),n&16&&(a.loading=r[4]),n&131073&&(a.$$scope={dirty:n,ctx:r}),s.$set(a)},i(r){t||(c(s.$$.fragment,r),t=!0)},o(r){_(s.$$.fragment,r),t=!1},d(r){r&&m(e),I(s)}}}function Wt(i){let e;return{c(){e=W("Add")},l(s){e=X(s,"Add")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function Xt(i){let e,s,t,r,n,a;return n=new ve({props:{size:"xs",color:"alternative",$$slots:{default:[Wt]},$$scope:{ctx:i}}}),n.$on("click",i[9]),{c(){e=F("div"),s=F("p"),t=W(i[0]),r=M(),y(n.$$.fragment),this.h()},l(l){e=R(l,"DIV",{slot:!0,class:!0});var o=H(e);s=R(o,"P",{class:!0});var u=H(s);t=X(u,i[0]),u.forEach(m),r=L(o),D(n.$$.fragment,o),o.forEach(m),this.h()},h(){O(s,"class","dark:text-white text-lg"),O(e,"slot","header"),O(e,"class","flex justify-between mb-0 items-center mx-md-5")},m(l,o){v(l,e,o),S(e,s),S(s,t),S(e,r),P(n,e,null),a=!0},p(l,o){(!a||o&1)&&Ae(t,l[0]);const u={};o&131072&&(u.$$scope={dirty:o,ctx:l}),n.$set(u)},i(l){a||(c(n.$$.fragment,l),a=!0)},o(l){_(n.$$.fragment,l),a=!1},d(l){l&&m(e),I(n)}}}function Yt(i){let e,s,t,r=i[1]&&i[2]&&i[2].length>0&&Xe(i);return s=new Qt({}),{c(){r&&r.c(),e=M(),y(s.$$.fragment)},l(n){r&&r.l(n),e=L(n),D(s.$$.fragment,n)},m(n,a){r&&r.m(n,a),v(n,e,a),P(s,n,a),t=!0},p(n,[a]){n[1]&&n[2]&&n[2].length>0?r?(r.p(n,a),a&6&&c(r,1)):(r=Xe(n),r.c(),c(r,1),r.m(e.parentNode,e)):r&&(ue(),_(r,1,1,()=>{r=null}),de())},i(n){t||(c(r),c(s.$$.fragment,n),t=!0)},o(n){_(r),_(s.$$.fragment,n),t=!1},d(n){n&&m(e),r&&r.d(n),I(s,n)}}}function xt(i,e,s){let t,r,n,a,{title:l="Permission Groups"}=e;const{store:{permissionGroups:o}}=ke;U(i,o,E=>s(2,r=E));const{openDrawer:u}=Ge(),{targetPermissionGroup:d,action:w}=yt(),{loading:p}=o;U(i,p,E=>s(4,a=E));const $={onRowClick:E=>{w.set("update"),u();const k={...E};d.set(k)},columnDefs:[{label:"Name",dataProperty:"name",dataType:Te.String,viewAlignment:Ee.Left},{label:"Sort Index",dataProperty:"sort_index",dataType:Te.String,viewAlignment:Ee.Right}]},C=ct($),{store:{options:K,data:T},actions:{setRowData:z}}=C;U(i,K,E=>s(1,t=E)),U(i,T,E=>s(3,n=E));const J=()=>{w.set("add"),d.set({name:"",sort_index:0}),u()},B=o.subscribe(E=>{const k=E.sort(({sort_index:j},{sort_index:se})=>j-se);z(k)});return lt(()=>{B(),Vt(),Ft()}),i.$$set=E=>{"title"in E&&s(0,l=E.title)},[l,t,r,n,a,o,p,K,T,J]}class es extends me{constructor(e){super(),_e(this,e,xt,Yt,pe,{title:0})}}let te=null;const ts=()=>(te={drawerClosed:ne(!0),focusedUser:ne(null),closeDrawer:()=>{var i,e;te&&((e=(i=te==null?void 0:te.drawerClosed)==null?void 0:i.set)==null||e.call(i,!0))},openDrawer:()=>{var i,e;te&&((e=(i=te==null?void 0:te.drawerClosed)==null?void 0:i.set)==null||e.call(i,!1))}},te),ss=()=>{te=null},Ue=()=>te||ts(),{store:{currentUser:Ye}}=pt,{store:{permissions:ns}}=ke,{action:{toastify:Ie}}=mt,rs={description:"",sort_index:0,permission_group_id:0},is={description:"",sort_index:0,group_id:"0"};let ae=null;const as=()=>(ae={loading:ne(!1),model:ne(is),action:ne("view"),targetPermission:ne(rs),addPermission:async i=>{var e,s,t,r;try{let n=i.sort_index;i.sort_index||(n=(((e=Se(ns).sort((o,u)=>!(u!=null&&u.sort_index)||!(o!=null&&o.sort_index)?0:u.sort_index-o.sort_index)[1])==null?void 0:e.sort_index)??0)+1);const a=[{description:i.description,sort_index:n,permission_group_id:i.permission_group_id,created_by_id:(s=Se(Ye))==null?void 0:s.id,created_at:new Date().toISOString()}];await qe.bulkCreate(a),(r=(t=ae==null?void 0:ae.targetPermission)==null?void 0:t.set)==null||r.call(t,null),Ie({type:"success",message:"Add permission successfully"})}catch{Ie({type:"error",message:"Update permission failed, please refresh browser and try again."})}},updatePermission:async i=>{var e,s,t;try{const r=[{description:i.description,sort_index:i.sort_index,uuid:i.uuid,permission_group_id:i.permission_group_id,updated_by_id:(e=Se(Ye))==null?void 0:e.id,updated_at:new Date().toISOString()}];await qe.bulkUpdate(r,{onConflict:"uuid"}),(t=(s=ae==null?void 0:ae.targetPermission)==null?void 0:s.set)==null||t.call(s,null),Ie({type:"success",message:"Updated permission successfully."})}catch{Ie({type:"error",message:"Update permission failed, please refresh browser and try again."})}},deletePermission:async i=>{if(i)try{await qe.bulkDelete([i]),Ie({type:"success",message:"Deleted permission successfully."})}catch{Ie({type:"error",message:"Delete permission failed, please refresh browser and try again."})}}},ae),Dt=()=>ae===null?as():ae,os=()=>{ae=null};function ls(i){let e,s="No data";return{c(){e=F("p"),e.textContent=s},l(t){e=R(t,"P",{"data-svelte-h":!0}),Ne(e)!=="svelte-t5me1l"&&(e.textContent=s)},m(t,r){v(t,e,r)},p:ye,i:ye,o:ye,d(t){t&&m(e)}}}function us(i){let e,s;return e=new ft({props:{options:i[1],data:i[3],loading:i[4],$$slots:{header:[fs]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){P(e,t,r),s=!0},p(t,r){const n={};r&2&&(n.options=t[1]),r&8&&(n.data=t[3]),r&16&&(n.loading=t[4]),r&262145&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function ds(i){let e;return{c(){e=W("Add")},l(s){e=X(s,"Add")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function fs(i){let e,s,t,r,n,a;return n=new ve({props:{size:"xs",color:"alternative",$$slots:{default:[ds]},$$scope:{ctx:i}}}),n.$on("click",i[9]),{c(){e=F("div"),s=F("p"),t=W(i[0]),r=M(),y(n.$$.fragment),this.h()},l(l){e=R(l,"DIV",{slot:!0,class:!0});var o=H(e);s=R(o,"P",{class:!0});var u=H(s);t=X(u,i[0]),u.forEach(m),r=L(o),D(n.$$.fragment,o),o.forEach(m),this.h()},h(){O(s,"class","dark:text-white text-2xl"),O(e,"slot","header"),O(e,"class","flex justify-between mb-0 items-center mx-md-5")},m(l,o){v(l,e,o),S(e,s),S(s,t),S(e,r),P(n,e,null),a=!0},p(l,o){(!a||o&1)&&Ae(t,l[0]);const u={};o&262144&&(u.$$scope={dirty:o,ctx:l}),n.$set(u)},i(l){a||(c(n.$$.fragment,l),a=!0)},o(l){_(n.$$.fragment,l),a=!1},d(l){l&&m(e),I(n)}}}function cs(i){let e,s,t,r;const n=[us,ls],a=[];function l(o,u){return o[1]&&o[2]&&o[2].length>0?0:1}return e=l(i),s=a[e]=n[e](i),{c(){s.c(),t=le()},l(o){s.l(o),t=le()},m(o,u){a[e].m(o,u),v(o,t,u),r=!0},p(o,[u]){let d=e;e=l(o),e===d?a[e].p(o,u):(ue(),_(a[d],1,1,()=>{a[d]=null}),de(),s=a[e],s?s.p(o,u):(s=a[e]=n[e](o),s.c()),c(s,1),s.m(t.parentNode,t))},i(o){r||(c(s),r=!0)},o(o){_(s),r=!1},d(o){o&&m(t),a[e].d(o)}}}function ps(i,e,s){let t,r,n,a,{title:l="Permissions"}=e,{group_id:o=1}=e;const{store:{permissions:u}}=ke;U(i,u,k=>s(2,r=k));const{openDrawer:d}=Ue(),{targetPermission:w,action:p}=Dt(),{loading:$}=u;U(i,$,k=>s(4,a=k));const C={onRowClick:k=>{p.set("update"),d();const j={...k},se={id:j.id,description:j.description,permission_group_id:j.group_id,sort_index:j.sort_index,uuid:j.uuid,created_by_id:j.created_by_id,created_at:j.created_at,updated_by_id:j.updated_by_id,updated_at:j.updated_at};w.set(se)},columnDefs:[{label:"Description",dataProperty:"description",dataType:Te.String,viewAlignment:Ee.Left,width:100},{label:"Sort Index",dataProperty:"sort_index",dataType:Te.String,viewAlignment:Ee.Right}]},K=ct(C),{store:{options:T,data:z},actions:{setRowData:J}}=K;U(i,T,k=>s(1,t=k)),U(i,z,k=>s(3,n=k));const B=()=>{p.set("add"),w.set({description:"",sort_index:0,permission_group_id:o}),d()},E=u.subscribe(k=>{J(k.filter(j=>j.group_id===o))});return lt(()=>{E(),ss(),os()}),i.$$set=k=>{"title"in k&&s(0,l=k.title),"group_id"in k&&s(10,o=k.group_id)},[l,t,r,n,a,u,$,T,z,B,o]}class ms extends me{constructor(e){super(),_e(this,e,ps,cs,pe,{title:0,group_id:10})}}function _s(i){let e,s,t;function r(a){i[6](a)}let n={label:i[1],name:i[2],items:i[3]};return i[0]!==void 0&&(n.value=i[0]),e=new Ct({props:n}),be.push(()=>we(e,"value",r)),{c(){y(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,l){P(e,a,l),t=!0},p(a,[l]){const o={};l&2&&(o.label=a[1]),l&4&&(o.name=a[2]),l&8&&(o.items=a[3]),!s&&l&1&&(s=!0,o.value=a[0],he(()=>s=!1)),e.$set(o)},i(a){t||(c(e.$$.fragment,a),t=!0)},o(a){_(e.$$.fragment,a),t=!1},d(a){I(e,a)}}}function gs(i,e,s){let t,r,{label:n=""}=e,{name:a=""}=e,{value:l}=e;const{store:{permissionGroups:o}}=ke;U(i,o,d=>s(5,r=d));function u(d){l=d,s(0,l)}return i.$$set=d=>{"label"in d&&s(1,n=d.label),"name"in d&&s(2,a=d.name),"value"in d&&s(0,l=d.value)},i.$$.update=()=>{i.$$.dirty&32&&s(3,t=r.map(d=>({value:d.id+"",name:`${d.name}`})))},[l,n,a,t,o,r,u]}class $s extends me{constructor(e){super(),_e(this,e,gs,_s,pe,{label:1,name:2,value:0})}}function xe(i){var h,b,V,Q,Y,ce;let e,s,t,r,n,a,l,o,u,d,w,p,$,C,K,T,z,J,B,E,k,j;function se(g){i[15](g)}let N={type:"text",description:"permission-description",label:"Description",placeholder:"Description",disabled:i[3],isInvalid:((h=i[4])==null?void 0:h.description)!==void 0,helperMessage:(V=(b=i[4])==null?void 0:b.description)==null?void 0:V.message,novalidate:!0,required:!0};i[2].description!==void 0&&(N.value=i[2].description),t=new kt({props:N}),be.push(()=>we(t,"value",se)),t.$on("input",i[12]);function q(g){i[16](g)}let oe={description:"permission-sort-index",label:"Sort Index",disabled:i[3],isInvalid:((Q=i[4])==null?void 0:Q.sort_index)!==void 0,helperMessage:(ce=(Y=i[4])==null?void 0:Y.sort_index)==null?void 0:ce.message,novalidate:!0,required:!0};i[2].sort_index!==void 0&&(oe.value=i[2].sort_index),a=new ut({props:oe}),be.push(()=>we(a,"value",q)),a.$on("input",i[12]);function ge(g){i[17](g)}let fe={name:"permission-group",label:"Permission Group"};i[2].group_id!==void 0&&(fe.value=i[2].group_id),u=new $s({props:fe}),be.push(()=>we(u,"value",ge));let G=i[1]==="update"&&et(i),f=i[1]!=="add"&&tt(i);return z=new ve({props:{type:"button",size:"xs",class:"mr-2",color:"alternative",disabled:i[3],$$slots:{default:[hs]},$$scope:{ctx:i}}}),z.$on("click",i[11]),B=new ve({props:{type:"button",size:"xs",disabled:i[3],$$slots:{default:[ks]},$$scope:{ctx:i}}}),B.$on("click",i[13]),{c(){e=F("form"),s=F("div"),y(t.$$.fragment),n=M(),y(a.$$.fragment),o=M(),y(u.$$.fragment),w=M(),G&&G.c(),p=M(),$=F("div"),C=F("div"),f&&f.c(),K=M(),T=F("div"),y(z.$$.fragment),J=M(),y(B.$$.fragment),this.h()},l(g){e=R(g,"FORM",{class:!0});var A=H(e);s=R(A,"DIV",{class:!0});var Z=H(s);D(t.$$.fragment,Z),n=L(Z),D(a.$$.fragment,Z),o=L(Z),D(u.$$.fragment,Z),w=L(Z),G&&G.l(Z),Z.forEach(m),p=L(A),$=R(A,"DIV",{class:!0});var x=H($);C=R(x,"DIV",{});var $e=H(C);f&&f.l($e),$e.forEach(m),K=L(x),T=R(x,"DIV",{});var re=H(T);D(z.$$.fragment,re),J=L(re),D(B.$$.fragment,re),re.forEach(m),x.forEach(m),A.forEach(m),this.h()},h(){O(s,"class","space-y-6"),O($,"class","flex justify-between"),e.noValidate=!0,O(e,"class","form mb-0 flex flex-col justify-between svelte-1dy7x2v")},m(g,A){v(g,e,A),S(e,s),P(t,s,null),S(s,n),P(a,s,null),S(s,o),P(u,s,null),S(s,w),G&&G.m(s,null),S(e,p),S(e,$),S($,C),f&&f.m(C,null),S($,K),S($,T),P(z,T,null),S(T,J),P(B,T,null),E=!0,k||(j=it(e,"submit",at(i[14])),k=!0)},p(g,A){var Fe,Re,Me,Le,Oe,ze;const Z={};A&8&&(Z.disabled=g[3]),A&16&&(Z.isInvalid=((Fe=g[4])==null?void 0:Fe.description)!==void 0),A&16&&(Z.helperMessage=(Me=(Re=g[4])==null?void 0:Re.description)==null?void 0:Me.message),!r&&A&4&&(r=!0,Z.value=g[2].description,he(()=>r=!1)),t.$set(Z);const x={};A&8&&(x.disabled=g[3]),A&16&&(x.isInvalid=((Le=g[4])==null?void 0:Le.sort_index)!==void 0),A&16&&(x.helperMessage=(ze=(Oe=g[4])==null?void 0:Oe.sort_index)==null?void 0:ze.message),!l&&A&4&&(l=!0,x.value=g[2].sort_index,he(()=>l=!1)),a.$set(x);const $e={};!d&&A&4&&(d=!0,$e.value=g[2].group_id,he(()=>d=!1)),u.$set($e),g[1]==="update"?G?(G.p(g,A),A&2&&c(G,1)):(G=et(g),G.c(),c(G,1),G.m(s,null)):G&&(ue(),_(G,1,1,()=>{G=null}),de()),g[1]!=="add"?f?(f.p(g,A),A&2&&c(f,1)):(f=tt(g),f.c(),c(f,1),f.m(C,null)):f&&(ue(),_(f,1,1,()=>{f=null}),de());const re={};A&8&&(re.disabled=g[3]),A&134217728&&(re.$$scope={dirty:A,ctx:g}),z.$set(re);const De={};A&8&&(De.disabled=g[3]),A&134217738&&(De.$$scope={dirty:A,ctx:g}),B.$set(De)},i(g){E||(c(t.$$.fragment,g),c(a.$$.fragment,g),c(u.$$.fragment,g),c(G),c(f),c(z.$$.fragment,g),c(B.$$.fragment,g),E=!0)},o(g){_(t.$$.fragment,g),_(a.$$.fragment,g),_(u.$$.fragment,g),_(G),_(f),_(z.$$.fragment,g),_(B.$$.fragment,g),E=!1},d(g){g&&m(e),I(t),I(a),I(u),G&&G.d(),f&&f.d(),I(z),I(B),k=!1,j()}}}function et(i){var t,r,n,a;let e,s;return e=new dt({props:{created_at:(t=i[0])==null?void 0:t.created_at,created_by_id:(r=i[0])==null?void 0:r.created_by_id,updated_at:(n=i[0])==null?void 0:n.updated_at,updated_by_id:(a=i[0])==null?void 0:a.updated_by_id}}),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,o){P(e,l,o),s=!0},p(l,o){var d,w,p,$;const u={};o&1&&(u.created_at=(d=l[0])==null?void 0:d.created_at),o&1&&(u.created_by_id=(w=l[0])==null?void 0:w.created_by_id),o&1&&(u.updated_at=(p=l[0])==null?void 0:p.updated_at),o&1&&(u.updated_by_id=($=l[0])==null?void 0:$.updated_by_id),e.$set(u)},i(l){s||(c(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){I(e,l)}}}function tt(i){let e,s;return e=new ve({props:{type:"button",size:"xs",color:"red",disabled:i[3],$$slots:{default:[bs]},$$scope:{ctx:i}}}),e.$on("click",i[18]),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){P(e,t,r),s=!0},p(t,r){const n={};r&8&&(n.disabled=t[3]),r&134217728&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function bs(i){let e;return{c(){e=W("Delete")},l(s){e=X(s,"Delete")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function hs(i){let e;return{c(){e=W("Reset")},l(s){e=X(s,"Reset")},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function ws(i){let e=i[1]==="add"?"Add":"Update",s;return{c(){s=W(e)},l(t){s=X(t,e)},m(t,r){v(t,s,r)},p(t,r){r&2&&e!==(e=t[1]==="add"?"Add":"Update")&&Ae(s,e)},d(t){t&&m(s)}}}function vs(i){let e;return{c(){e=W("...")},l(s){e=X(s,"...")},m(s,t){v(s,e,t)},p:ye,d(s){s&&m(e)}}}function ks(i){let e;function s(n,a){return n[3]?vs:ws}let t=s(i),r=t(i);return{c(){r.c(),e=le()},l(n){r.l(n),e=le()},m(n,a){r.m(n,a),v(n,e,a)},p(n,a){t===(t=s(n))&&r?r.p(n,a):(r.d(1),r=t(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&m(e),r.d(n)}}}function ys(i){let e,s,t=i[2]&&xe(i);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,n){t&&t.m(r,n),v(r,e,n),s=!0},p(r,[n]){r[2]?t?(t.p(r,n),n&4&&c(t,1)):(t=xe(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ue(),_(t,1,1,()=>{t=null}),de())},i(r){s||(c(t),s=!0)},o(r){_(t),s=!1},d(r){r&&m(e),t&&t.d(r)}}}function Ds(i,e,s){let t,r,n,a,l,o;const{loading:u,targetPermission:d,model:w,action:p,addPermission:$,updatePermission:C,deletePermission:K}=Dt();U(i,u,f=>s(3,l=f)),U(i,d,f=>s(0,t=f)),U(i,w,f=>s(2,n=f)),U(i,p,f=>s(1,r=f));const{closeDrawer:T}=Ue(),{store:{permissions:z}}=ke,{errors:J,submitted:B,validate:E,reset:k}=bt(ht({description:wt().required("Description is required").label("Description"),sort_index:vt().required().label("Sort Index")}));U(i,J,f=>s(4,o=f)),U(i,B,f=>s(19,a=f));const j=()=>{t&&w.set({description:t.description,sort_index:(t==null?void 0:t.sort_index)??0,group_id:`${t==null?void 0:t.permission_group_id}`??"0"}),B.set(!1),k()},se=async()=>{if(!a)return;const{description:f,sort_index:h}=n;await E({description:f,sort_index:h})},N=async()=>{try{u.set(!0),B.set(!0);const{description:f,sort_index:h,group_id:b}=n;switch(await E({description:f,sort_index:h}),r){case"add":await $({...t,description:f,sort_index:h,permission_group_id:parseInt(b,10)});break;case"update":await C({...t,description:f,sort_index:h,permission_group_id:parseInt(b,10)});break;case"delete":t!=null&&t.id&&await K(t.id);break;default:}await z.reload(),T()}catch(f){console.log("submit failed",f)}finally{u.set(!1)}};d.subscribe(f=>{f&&w.set({description:f==null?void 0:f.description,sort_index:(f==null?void 0:f.sort_index)??0,group_id:`${f==null?void 0:f.permission_group_id}`??"0"})});function q(f){ot.call(this,i,f)}function oe(f){i.$$.not_equal(n.description,f)&&(n.description=f,w.set(n))}function ge(f){i.$$.not_equal(n.sort_index,f)&&(n.sort_index=f,w.set(n))}function fe(f){i.$$.not_equal(n.group_id,f)&&(n.group_id=f,w.set(n))}return[t,r,n,l,o,u,d,w,p,J,B,j,se,N,q,oe,ge,fe,()=>{p.set("delete"),N()}]}class Ps extends me{constructor(e){super(),_e(this,e,Ds,ys,pe,{})}}function Is(i){let e,s,t="Permission",r,n,a,l,o;return n=new _t({props:{class:"mb-4 dark:text-white"}}),n.$on("click",i[3]),l=new Ps({}),{c(){e=F("div"),s=F("h5"),s.textContent=t,r=M(),y(n.$$.fragment),a=M(),y(l.$$.fragment),this.h()},l(u){e=R(u,"DIV",{class:!0});var d=H(e);s=R(d,"H5",{id:!0,class:!0,"data-svelte-h":!0}),Ne(s)!=="svelte-10at4k3"&&(s.textContent=t),r=L(d),D(n.$$.fragment,d),d.forEach(m),a=L(u),D(l.$$.fragment,u),this.h()},h(){O(s,"id","drawer-label"),O(s,"class","inline-flex items-center mb-6 text-base font-semibold text-gray-500 uppercase dark:text-gray-400"),O(e,"class","flex items-center")},m(u,d){v(u,e,d),S(e,s),S(e,r),P(n,e,null),v(u,a,d),P(l,u,d),o=!0},p:ye,i(u){o||(c(n.$$.fragment,u),c(l.$$.fragment,u),o=!0)},o(u){_(n.$$.fragment,u),_(l.$$.fragment,u),o=!1},d(u){u&&(m(e),m(a)),I(n),I(l,u)}}}function Ss(i){let e,s,t;function r(a){i[4](a)}let n={transitionType:"fly",transitionParams:i[1],id:"permissions-drawer",placement:"right",class:"mt-0",$$slots:{default:[Is]},$$scope:{ctx:i}};return i[0]!==void 0&&(n.hidden=i[0]),e=new $t({props:n}),be.push(()=>we(e,"hidden",r)),{c(){y(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,l){P(e,a,l),t=!0},p(a,[l]){const o={};l&32&&(o.$$scope={dirty:l,ctx:a}),!s&&l&1&&(s=!0,o.hidden=a[0],he(()=>s=!1)),e.$set(o)},i(a){t||(c(e.$$.fragment,a),t=!0)},o(a){_(e.$$.fragment,a),t=!1},d(a){I(e,a)}}}function Cs(i,e,s){let t,r={x:320,duration:200,easing:gt};const{drawerClosed:n,closeDrawer:a}=Ue();U(i,n,o=>s(0,t=o));function l(o){t=o,n.set(t)}return[t,r,n,a,l]}class Ts extends me{constructor(e){super(),_e(this,e,Cs,Ss,pe,{})}}function st(i,e,s){const t=i.slice();return t[2]=e[s],t}function nt(i){let e,s,t=He(i[0]),r=[];for(let a=0;a<t.length;a+=1)r[a]=rt(st(i,t,a));const n=a=>_(r[a],1,1,()=>{r[a]=null});return{c(){e=F("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=R(a,"DIV",{class:!0});var l=H(e);for(let o=0;o<r.length;o+=1)r[o].l(l);l.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-8")},m(a,l){v(a,e,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);s=!0},p(a,l){if(l&1){t=He(a[0]);let o;for(o=0;o<t.length;o+=1){const u=st(a,t,o);r[o]?(r[o].p(u,l),c(r[o],1)):(r[o]=rt(u),r[o].c(),c(r[o],1),r[o].m(e,null))}for(ue(),o=t.length;o<r.length;o+=1)n(o);de()}},i(a){if(!s){for(let l=0;l<t.length;l+=1)c(r[l]);s=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);s=!1},d(a){a&&m(e),Pt(r,a)}}}function rt(i){let e,s,t,r;return s=new ms({props:{title:i[2].name,group_id:i[2].id}}),{c(){e=F("div"),y(s.$$.fragment),t=M(),this.h()},l(n){e=R(n,"DIV",{class:!0});var a=H(e);D(s.$$.fragment,a),t=L(a),a.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-3")},m(n,a){v(n,e,a),P(s,e,null),S(e,t),r=!0},p(n,a){const l={};a&1&&(l.title=n[2].name),a&1&&(l.group_id=n[2].id),s.$set(l)},i(n){r||(c(s.$$.fragment,n),r=!0)},o(n){_(s.$$.fragment,n),r=!1},d(n){n&&m(e),I(s)}}}function Es(i){let e,s,t,r=i[0]&&i[0].length>0&&nt(i);return s=new Ts({}),{c(){r&&r.c(),e=M(),y(s.$$.fragment)},l(n){r&&r.l(n),e=L(n),D(s.$$.fragment,n)},m(n,a){r&&r.m(n,a),v(n,e,a),P(s,n,a),t=!0},p(n,[a]){n[0]&&n[0].length>0?r?(r.p(n,a),a&1&&c(r,1)):(r=nt(n),r.c(),c(r,1),r.m(e.parentNode,e)):r&&(ue(),_(r,1,1,()=>{r=null}),de())},i(n){t||(c(r),c(s.$$.fragment,n),t=!0)},o(n){_(r),_(s.$$.fragment,n),t=!1},d(n){n&&m(e),r&&r.d(n),I(s,n)}}}function As(i,e,s){let t;const{store:{permissionGroups:r}}=ke;return U(i,r,n=>s(0,t=n)),[t,r]}class Ns extends me{constructor(e){super(),_e(this,e,As,Es,pe,{})}}function Vs(i){let e;return{c(){e=W(`The navbar component can be used to show a list of navigation links positioned on the top side
		of your page based on multiple layouts, sizes, and dropdowns`)},l(s){e=X(s,`The navbar component can be used to show a list of navigation links positioned on the top side
		of your page based on multiple layouts, sizes, and dropdowns`)},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function qs(i){let e;return{c(){e=W(`Get started with the responsive navbar component from Flowbite to quickly set up a navigation
		menu for your website and set up the logo, list of pages, CTA button, search input, user profile
		options with a dropdown, and more.`)},l(s){e=X(s,`Get started with the responsive navbar component from Flowbite to quickly set up a navigation
		menu for your website and set up the logo, list of pages, CTA button, search input, user profile
		options with a dropdown, and more.`)},m(s,t){v(s,e,t)},d(s){s&&m(e)}}}function Gs(i){let e,s;return e=new Ns({}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){P(e,t,r),s=!0},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function Us(i){let e,s;return e=new es({}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){P(e,t,r),s=!0},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function Fs(i){let e,s,t,r;return e=new Be({props:{open:i[0].permissions.open,title:"Permissions",$$slots:{default:[Gs]},$$scope:{ctx:i}}}),e.$on("click",i[2]),t=new Be({props:{open:i[0].groups.open,title:"Groups",$$slots:{default:[Us]},$$scope:{ctx:i}}}),t.$on("click",i[3]),{c(){y(e.$$.fragment),s=M(),y(t.$$.fragment)},l(n){D(e.$$.fragment,n),s=L(n),D(t.$$.fragment,n)},m(n,a){P(e,n,a),v(n,s,a),P(t,n,a),r=!0},p(n,a){const l={};a&1&&(l.open=n[0].permissions.open),a&64&&(l.$$scope={dirty:a,ctx:n}),e.$set(l);const o={};a&1&&(o.open=n[0].groups.open),a&64&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){r||(c(e.$$.fragment,n),c(t.$$.fragment,n),r=!0)},o(n){_(e.$$.fragment,n),_(t.$$.fragment,n),r=!1},d(n){n&&m(s),I(e,n),I(t,n)}}}function Rs(i){let e,s,t="Permissions",r,n,a,l,o,u,d,w;return n=new je({props:{class:"text-lg text-gray-600 dark:text-gray-400",$$slots:{default:[Vs]},$$scope:{ctx:i}}}),o=new je({props:{$$slots:{default:[qs]},$$scope:{ctx:i}}}),d=new Tt({props:{style:"underline",contentClass:"py-4 px-0 rounded-lg mt-0",$$slots:{default:[Fs]},$$scope:{ctx:i}}}),{c(){e=F("div"),s=F("h1"),s.textContent=t,r=M(),y(n.$$.fragment),a=M(),l=F("div"),y(o.$$.fragment),u=M(),y(d.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var $=H(e);s=R($,"H1",{class:!0,"data-svelte-h":!0}),Ne(s)!=="svelte-vs10ib"&&(s.textContent=t),r=L($),D(n.$$.fragment,$),$.forEach(m),a=L(p),l=R(p,"DIV",{class:!0});var C=H(l);D(o.$$.fragment,C),C.forEach(m),u=L(p),D(d.$$.fragment,p),this.h()},h(){O(s,"class","text-3xl w-full inline-block mb-2 font-extrabold tracking-tight text-gray-900 dark:text-white"),O(e,"class","pb-8 pt-8"),O(l,"class","pb-8")},m(p,$){v(p,e,$),S(e,s),S(e,r),P(n,e,null),v(p,a,$),v(p,l,$),P(o,l,null),v(p,u,$),P(d,p,$),w=!0},p(p,[$]){const C={};$&64&&(C.$$scope={dirty:$,ctx:p}),n.$set(C);const K={};$&64&&(K.$$scope={dirty:$,ctx:p}),o.$set(K);const T={};$&65&&(T.$$scope={dirty:$,ctx:p}),d.$set(T)},i(p){w||(c(n.$$.fragment,p),c(o.$$.fragment,p),c(d.$$.fragment,p),w=!0)},o(p){_(n.$$.fragment,p),_(o.$$.fragment,p),_(d.$$.fragment,p),w=!1},d(p){p&&(m(e),m(a),m(l),m(u)),I(n),I(o),I(d,p)}}}function Ms(i,e,s){let t;U(i,St,u=>s(4,t=u));let r={permissions:{open:!1},groups:{open:!1}};const n=u=>{t.url.searchParams.set("tab",u),At(`?${t.url.searchParams.toString()}`)},a=u=>{switch(u==null?void 0:u.toLowerCase()){case"permissions":s(0,r.permissions.open=!0,r),s(0,r.groups.open=!1,r);break;case"groups":s(0,r.permissions.open=!1,r),s(0,r.groups.open=!0,r);break;default:s(0,r.permissions.open=!0,r),s(0,r.groups.open=!1,r);break}};return It(()=>{a(t.url.searchParams.get("tab")??null)}),[r,n,()=>n("permissions"),()=>n("groups")]}class tn extends me{constructor(e){super(),_e(this,e,Ms,Rs,pe,{})}}export{tn as component};
