import{s as G,z as M,a1 as K,f as k,a as V,l as L,g as C,C as T,c as j,h as B,m as N,d as _,j as x,i as E,x as w,E as U,a0 as Q,S as W,p as X,M as Y,y as Z}from"../chunks/scheduler.8e28fde2.js";import{S as H,i as J,b as P,d as A,m as F,a as I,t as q,e as D,f as ee}from"../chunks/index.7310de3c.js";import{w as te}from"../chunks/index.e56d8ce4.js";import{B as z}from"../chunks/Button.483fa7bd.js";import{L as ae}from"../chunks/Label.7da3256e.js";import{f as se,c as ne,a as re,T as le}from"../chunks/TextField.da583b18.js";import{a as oe}from"../chunks/auth.state.082b92f3.js";import{A as ie}from"../chunks/AuthSection.8cbeba46.js";import{g as me}from"../chunks/navigation.05cadac2.js";import{A as ue}from"../chunks/client.c0def72b.js";function fe(s){var p,b,u;let e,a,t,n;function c(l){s[10](l)}let h={type:"email",name:"email",label:"Username",placeholder:"Email",disabled:s[1],isInvalid:((p=s[2])==null?void 0:p.email)!==void 0,helperMessage:(u=(b=s[2])==null?void 0:b.email)==null?void 0:u.message,novalidate:!0,required:!0};return s[0].email!==void 0&&(h.value=s[0].email),a=new le({props:h}),X.push(()=>ee(a,"value",c)),a.$on("input",s[8]),{c(){e=k("div"),P(a.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var i=B(e);A(a.$$.fragment,i),i.forEach(_),this.h()},h(){x(e,"class","space-y-2")},m(l,i){E(l,e,i),F(a,e,null),n=!0},p(l,i){var d,g,$;const f={};i&2&&(f.disabled=l[1]),i&4&&(f.isInvalid=((d=l[2])==null?void 0:d.email)!==void 0),i&4&&(f.helperMessage=($=(g=l[2])==null?void 0:g.email)==null?void 0:$.message),!t&&i&1&&(t=!0,f.value=l[0].email,Y(()=>t=!1)),a.$set(f)},i(l){n||(I(a.$$.fragment,l),n=!0)},o(l){q(a.$$.fragment,l),n=!1},d(l){l&&_(e),D(a)}}}function ce(s){let e;return{c(){e=L("Reset")},l(a){e=N(a,"Reset")},m(a,t){E(a,e,t)},d(a){a&&_(e)}}}function de(s){let e;return{c(){e=L("Submit")},l(a){e=N(a,"Submit")},m(a,t){E(a,e,t)},d(a){a&&_(e)}}}function $e(s){let e,a="Forgot Password",t,n,c,h,p,b,u,l="Sign up",i,f,d,g,$,y,R,o;return c=new ae({props:{class:"space-y-2",$$slots:{default:[fe]},$$scope:{ctx:s}}}),d=new z({props:{type:"button",class:"mr-3",color:"alternative",disabled:s[1],$$slots:{default:[ce]},$$scope:{ctx:s}}}),d.$on("click",s[7]),$=new z({props:{type:"button",$$slots:{default:[de]},$$scope:{ctx:s}}}),$.$on("click",s[9]),{c(){e=k("h1"),e.textContent=a,t=V(),n=k("form"),P(c.$$.fragment),h=V(),p=k("div"),b=L("Not registered? "),u=k("a"),u.textContent=l,i=V(),f=k("div"),P(d.$$.fragment),g=V(),P($.$$.fragment),this.h()},l(r){e=C(r,"H1",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-i2x120"&&(e.textContent=a),t=j(r),n=C(r,"FORM",{class:!0});var m=B(n);A(c.$$.fragment,m),h=j(m),p=C(m,"DIV",{class:!0});var S=B(p);b=N(S,"Not registered? "),u=C(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),T(u)!=="svelte-xwhabj"&&(u.textContent=l),S.forEach(_),i=j(m),f=C(m,"DIV",{class:!0});var v=B(f);A(d.$$.fragment,v),g=j(v),A($.$$.fragment,v),v.forEach(_),m.forEach(_),this.h()},h(){x(e,"class","text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"),x(u,"href","/auth/sign-up"),x(u,"class","text-primary-700 hover:underline dark:text-primary-500"),x(p,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),x(f,"class","flex justify-end"),x(n,"class","space-y-4 md:space-y-6"),n.noValidate=!0},m(r,m){E(r,e,m),E(r,t,m),E(r,n,m),F(c,n,null),w(n,h),w(n,p),w(p,b),w(p,u),w(n,i),w(n,f),F(d,f,null),w(f,g),F($,f,null),y=!0,R||(o=[U(u,"click",s[7]),U(n,"submit",Q(s[9]))],R=!0)},p(r,m){const S={};m&32775&&(S.$$scope={dirty:m,ctx:r}),c.$set(S);const v={};m&2&&(v.disabled=r[1]),m&32768&&(v.$$scope={dirty:m,ctx:r}),d.$set(v);const O={};m&32768&&(O.$$scope={dirty:m,ctx:r}),$.$set(O)},i(r){y||(I(c.$$.fragment,r),I(d.$$.fragment,r),I($.$$.fragment,r),y=!0)},o(r){q(c.$$.fragment,r),q(d.$$.fragment,r),q($.$$.fragment,r),y=!1},d(r){r&&(_(e),_(t),_(n)),D(c),D(d),D($),R=!1,W(o)}}}function pe(s){let e,a;return e=new ie({props:{$$slots:{default:[$e]},$$scope:{ctx:s}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){F(e,t,n),a=!0},p(t,[n]){const c={};n&32775&&(c.$$scope={dirty:n,ctx:t}),e.$set(c)},i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){q(e.$$.fragment,t),a=!1},d(t){D(e,t)}}}function ge(s,e,a){let t,n,c,h;const{actions:{triggerResetPassword:p},store:{loading:b}}=oe;M(s,b,o=>a(1,c=o));const u=te({email:""});M(s,u,o=>a(0,t=o));const{errors:l,submitted:i,validate:f,reset:d}=se(ne({email:re().required("Email is required").email("Email is not valid")}));M(s,l,o=>a(2,h=o)),M(s,i,o=>a(11,n=o));const g=()=>{u.set({email:""}),i.set(!1),d()},$=async()=>{if(!n)return;const{email:o}=t;await f({email:o})},y=async()=>{try{i.set(!0);const{email:o}=t;await f({email:o});const r=await p(o,`${ue.APP_BASE_URL}/auth/update-password`);r!=null&&r.success&&(g(),await me("/auth/sign-in"))}catch(o){console.log("submit failed",o)}};K(g);function R(o){s.$$.not_equal(t.email,o)&&(t.email=o,u.set(t))}return[t,c,h,b,u,l,i,g,$,y,R]}class _e extends H{constructor(e){super(),J(this,e,ge,pe,G,{})}}function he(s){let e,a;return e=new _e({}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){F(e,t,n),a=!0},p:Z,i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){q(e.$$.fragment,t),a=!1},d(t){D(e,t)}}}class Ae extends H{constructor(e){super(),J(this,e,null,he,G,{})}}export{Ae as component};
