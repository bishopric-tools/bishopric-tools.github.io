import{s as Ie,O as J,o as Te,P as De,p as $e,f as S,a as D,g as M,w as Z,c as E,h as Q,d as m,j as q,i as T,y as $,z as Ee,Q as Ve,R as ge,l as K,m as W,e as _e,I as Ce}from"../chunks/scheduler.040d6b8f.js";import{S as ye,i as Se,b as V,d as C,m as P,a as x,t as F,e as H,f as he}from"../chunks/index.f15851d2.js";import{w as Pe}from"../chunks/index.60b351e8.js";import{g as ve,B as we,a as xe}from"../chunks/navigation.1c437f2f.js";import"../chunks/Indicator.svelte_svelte_type_style_lang.063c4f60.js";import{T as Fe}from"../chunks/Toggle.688185b9.js";import{A as He,f as Le,c as Re,a as be,T as ke}from"../chunks/fo-dator.cf934cd7.js";function Ae(a){let e;return{c(){e=K("Show password")},l(t){e=W(t,"Show password")},m(t,n){T(t,e,n)},d(t){t&&m(e)}}}function je(a){let e;return{c(){e=K("Reset")},l(t){e=W(t,"Reset")},m(t,n){T(t,e,n)},d(t){t&&m(e)}}}function ze(a){let e;return{c(){e=K("Sign In")},l(t){e=W(t,"Sign In")},m(t,n){T(t,e,n)},d(t){t&&m(e)}}}function Be(a){let e;return{c(){e=K("...")},l(t){e=W(t,"...")},m(t,n){T(t,e,n)},d(t){t&&m(e)}}}function Ne(a){let e;function t(l,d){return l[3]?Be:ze}let n=t(a),s=n(a);return{c(){s.c(),e=_e()},l(l){s.l(l),e=_e()},m(l,d){s.m(l,d),T(l,e,d)},p(l,d){n!==(n=t(l))&&(s.d(1),s=n(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){l&&m(e),s.d(l)}}}function Oe(a){var ae,ne,re,ie,le,oe;let e,t="Sign In",n,s,l,d,L,B,k,u,w,R,g,c,N,f,A='<a href="/auth/forgot-password" class="ml-auto text-sm text-primary-700 hover:underline dark:text-primary-500">Forgot your password?</a>',O,h,_,U,v,o,p,j=`Not registered?
			<a href="/auth/sign-up" class="text-primary-700 hover:underline dark:text-primary-500">Sign Up</a>`,G,X,ee;function Me(r){a[12](r)}let te={type:"email",name:"email",label:"Username",placeholder:"Email",disabled:a[3],isInvalid:((ae=a[4])==null?void 0:ae.email)!==void 0,helperMessage:(re=(ne=a[4])==null?void 0:ne.email)==null?void 0:re.message,novalidate:!0,required:!0};a[2].email!==void 0&&(te.value=a[2].email),d=new ke({props:te}),$e.push(()=>he(d,"value",Me)),d.$on("input",a[10]);function qe(r){a[13](r)}let se={type:a[1],name:"password",label:"Password",placeholder:"Password",disabled:a[3],isInvalid:((ie=a[4])==null?void 0:ie.password)!==void 0,helperMessage:(oe=(le=a[4])==null?void 0:le.password)==null?void 0:oe.message,novalidate:!0,required:!0};return a[2].password!==void 0&&(se.value=a[2].password),u=new ke({props:se}),$e.push(()=>he(u,"value",qe)),u.$on("input",a[10]),c=new Fe({props:{checked:a[0],size:"small",$$slots:{default:[Ae]},$$scope:{ctx:a}}}),c.$on("click",a[14]),_=new we({props:{type:"button",class:"mr-3",color:"alternative",disabled:a[3],$$slots:{default:[je]},$$scope:{ctx:a}}}),_.$on("click",a[9]),v=new we({props:{type:"submit",class:"",disabled:a[3],$$slots:{default:[Ne]},$$scope:{ctx:a}}}),{c(){e=S("h1"),e.textContent=t,n=D(),s=S("form"),l=S("div"),V(d.$$.fragment),B=D(),k=S("div"),V(u.$$.fragment),R=D(),g=S("div"),V(c.$$.fragment),N=D(),f=S("div"),f.innerHTML=A,O=D(),h=S("div"),V(_.$$.fragment),U=D(),V(v.$$.fragment),o=D(),p=S("div"),p.innerHTML=j,this.h()},l(r){e=M(r,"H1",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1apvbs4"&&(e.textContent=t),n=E(r),s=M(r,"FORM",{class:!0});var i=Q(s);l=M(i,"DIV",{class:!0});var I=Q(l);C(d.$$.fragment,I),I.forEach(m),B=E(i),k=M(i,"DIV",{class:!0});var b=Q(k);C(u.$$.fragment,b),b.forEach(m),R=E(i),g=M(i,"DIV",{class:!0});var z=Q(g);C(c.$$.fragment,z),z.forEach(m),N=E(i),f=M(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(f)!=="svelte-1runv78"&&(f.innerHTML=A),O=E(i),h=M(i,"DIV",{class:!0});var y=Q(h);C(_.$$.fragment,y),U=E(y),C(v.$$.fragment,y),y.forEach(m),o=E(i),p=M(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(p)!=="svelte-28iiwy"&&(p.innerHTML=j),i.forEach(m),this.h()},h(){q(e,"class","text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"),q(l,"class","space-y-2"),q(k,"class","space-y-2"),q(g,"class","flex items-start"),q(f,"class","flex items-start"),q(h,"class","flex justify-end"),q(p,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),q(s,"class","space-y-4 md:space-y-6"),s.noValidate=!0},m(r,i){T(r,e,i),T(r,n,i),T(r,s,i),$(s,l),P(d,l,null),$(s,B),$(s,k),P(u,k,null),$(s,R),$(s,g),P(c,g,null),$(s,N),$(s,f),$(s,O),$(s,h),P(_,h,null),$(h,U),P(v,h,null),$(s,o),$(s,p),G=!0,X||(ee=Ee(s,"submit",Ve(a[11])),X=!0)},p(r,i){var de,ue,fe,me,ce,pe;const I={};i&8&&(I.disabled=r[3]),i&16&&(I.isInvalid=((de=r[4])==null?void 0:de.email)!==void 0),i&16&&(I.helperMessage=(fe=(ue=r[4])==null?void 0:ue.email)==null?void 0:fe.message),!L&&i&4&&(L=!0,I.value=r[2].email,ge(()=>L=!1)),d.$set(I);const b={};i&2&&(b.type=r[1]),i&8&&(b.disabled=r[3]),i&16&&(b.isInvalid=((me=r[4])==null?void 0:me.password)!==void 0),i&16&&(b.helperMessage=(pe=(ce=r[4])==null?void 0:ce.password)==null?void 0:pe.message),!w&&i&4&&(w=!0,b.value=r[2].password,ge(()=>w=!1)),u.$set(b);const z={};i&1&&(z.checked=r[0]),i&1048576&&(z.$$scope={dirty:i,ctx:r}),c.$set(z);const y={};i&8&&(y.disabled=r[3]),i&1048576&&(y.$$scope={dirty:i,ctx:r}),_.$set(y);const Y={};i&8&&(Y.disabled=r[3]),i&1048584&&(Y.$$scope={dirty:i,ctx:r}),v.$set(Y)},i(r){G||(x(d.$$.fragment,r),x(u.$$.fragment,r),x(c.$$.fragment,r),x(_.$$.fragment,r),x(v.$$.fragment,r),G=!0)},o(r){F(d.$$.fragment,r),F(u.$$.fragment,r),F(c.$$.fragment,r),F(_.$$.fragment,r),F(v.$$.fragment,r),G=!1},d(r){r&&(m(e),m(n),m(s)),H(d),H(u),H(c),H(_),H(v),X=!1,ee()}}}function Ue(a){let e,t;return e=new He({props:{$$slots:{default:[Oe]},$$scope:{ctx:a}}}),{c(){V(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,s){P(e,n,s),t=!0},p(n,[s]){const l={};s&1048607&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Qe(a,e,t){let n,s,l,d,L;const{actions:{isAuthenticated:B,signIn:k},store:{loading:u}}=xe;J(a,u,o=>t(3,d=o));const w=Pe({email:"",password:""});J(a,w,o=>t(2,s=o));const{errors:R,submitted:g,validate:c,reset:N}=Le(Re({email:be().required("Email is required").email("Email is not valid"),password:be().required("Password is required")}));J(a,R,o=>t(4,L=o)),J(a,g,o=>t(15,l=o));let f=!1;const A=()=>{w.set({email:"",password:""}),g.set(!1),t(0,f=!1),N()},O=async()=>{if(!l)return;const{email:o,password:p}=s;await c({email:o,password:p})},h=async()=>{try{g.set(!0);const{email:o,password:p}=s;await c({email:o,password:p});const j=await k(o,p);j!=null&&j.success&&(await ve("/"),A())}catch(o){console.log("submit failed",o)}};Te(async()=>{await B()&&await ve("/")}),De(A);function _(o){a.$$.not_equal(s.email,o)&&(s.email=o,w.set(s))}function U(o){a.$$.not_equal(s.password,o)&&(s.password=o,w.set(s))}const v=()=>{t(0,f=!f)};return a.$$.update=()=>{a.$$.dirty&1&&t(1,n=f?"text":"password")},[f,n,s,d,L,u,w,R,g,A,O,h,_,U,v]}class Ge extends ye{constructor(e){super(),Se(this,e,Qe,Ue,Ie,{})}}function Je(a){let e,t;return e=new Ge({}),{c(){V(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,s){P(e,n,s),t=!0},p:Ce,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}class st extends ye{constructor(e){super(),Se(this,e,null,Je,Ie,{})}}export{st as component};
