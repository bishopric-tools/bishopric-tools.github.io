import{$ as Ie,s as pe,e as ie,i as v,d as m,z as G,a1 as lt,f as L,l as X,a as P,g as M,h as H,m as Y,c as F,j as O,x as S,n as Ee,p as be,M as he,E as ot,a0 as it,P as ut,y as Ae,C as Ve,Z as It,o as St}from"../chunks/scheduler.b53f554c.js";import{S as me,i as _e,a as c,g as ue,t as _,c as de,b as y,d as D,m as R,e as I,f as we}from"../chunks/index.8dc6213e.js";import{b as Ne,r as ke,e as Be,c as qe}from"../chunks/rbac.state.587bfccc.js";import{B as ve}from"../chunks/Button.faff8da5.js";import{D as Ce,a as Te,b as dt,c as ft}from"../chunks/DataTable.6160a59c.js";import{w as re,d as Ct}from"../chunks/index.adf7635c.js";import{a as ct}from"../chunks/auth.state.423078db.js";import{n as pt}from"../chunks/toaster.state.1b746a50.js";import{C as mt,c as _t}from"../chunks/CloseButton.cc7e1be4.js";import{D as gt}from"../chunks/Drawer.beaec89c.js";import{f as $t,c as bt,a as ht,b as wt,T as vt}from"../chunks/TextField.422033c6.js";import{S as Tt,N as kt,I as yt,T as Et,a as je}from"../chunks/SelectField.39e76342.js";import{P as He}from"../chunks/P.e17eb30e.js";import{p as At}from"../chunks/stores.2471d7ab.js";import{g as Nt}from"../chunks/navigation.8ce23afe.js";let te=null;const qt=()=>(te={drawerClosed:re(!0),focusedUser:re(null),closeDrawer:()=>{var a,e;te&&((e=(a=te==null?void 0:te.drawerClosed)==null?void 0:a.set)==null||e.call(a,!0))},openDrawer:()=>{var a,e;te&&((e=(a=te==null?void 0:te.drawerClosed)==null?void 0:a.set)==null||e.call(a,!1))}},te),Vt=()=>{te=null},Ue=()=>te||qt(),{store:{currentUser:Ke}}=ct,{store:{roles:Ut}}=ke,{action:{toastify:De}}=pt,Gt={name:"",sort_index:0,role_group_id:0},Pt={name:"",sort_index:0,group_id:"0"};let ae=null;const Ft=()=>(ae={loading:re(!1),model:re(Pt),action:re("view"),targetRole:re(Gt),addRole:async a=>{var e,n,t,r;try{let s=a.sort_index;a.sort_index||(s=(((e=Ie(Ut).sort((i,u)=>!(u!=null&&u.sort_index)||!(i!=null&&i.sort_index)?0:u.sort_index-i.sort_index)[1])==null?void 0:e.sort_index)??0)+1);const l=[{name:a.name,sort_index:s,role_group_id:a.role_group_id,created_by_id:(n=Ie(Ke))==null?void 0:n.id,created_at:new Date().toISOString()}];await Ne.bulkCreate(l),(r=(t=ae==null?void 0:ae.targetRole)==null?void 0:t.set)==null||r.call(t,null),De({type:"success",message:"Updated role successfully"})}catch{De({type:"error",message:"Update role failed, please refresh browser and try again."})}},updateRole:async a=>{var e,n,t;try{const r=[{name:a.name,sort_index:a.sort_index,uuid:a.uuid,role_group_id:a.role_group_id,updated_by_id:(e=Ie(Ke))==null?void 0:e.id,updated_at:new Date().toISOString()}];await Ne.bulkUpdate(r,{onConflict:"uuid"}),(t=(n=ae==null?void 0:ae.targetRole)==null?void 0:n.set)==null||t.call(n,null),De({type:"success",message:"Updated role successfully."})}catch{De({type:"error",message:"Update role failed, please refresh browser and try again."})}},deleteRole:async a=>{if(a)try{await Ne.bulkDelete([a]),De({type:"success",message:"Deleted role successfully."})}catch{De({type:"error",message:"Delete role failed, please refresh browser and try again."})}}},ae),Dt=()=>ae===null?Ft():ae,Lt=()=>{ae=null};function Ze(a){let e,n;return e=new dt({props:{options:a[1],data:a[3],loading:a[4],$$slots:{header:[Ot]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){R(e,t,r),n=!0},p(t,r){const s={};r&2&&(s.options=t[1]),r&8&&(s.data=t[3]),r&16&&(s.loading=t[4]),r&262145&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Mt(a){let e;return{c(){e=X("Add")},l(n){e=Y(n,"Add")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Ot(a){let e,n,t,r,s,l;return s=new ve({props:{size:"xs",color:"alternative",$$slots:{default:[Mt]},$$scope:{ctx:a}}}),s.$on("click",a[9]),{c(){e=L("div"),n=L("p"),t=X(a[0]),r=P(),y(s.$$.fragment),this.h()},l(o){e=M(o,"DIV",{slot:!0,class:!0});var i=H(e);n=M(i,"P",{class:!0});var u=H(n);t=Y(u,a[0]),u.forEach(m),r=F(i),D(s.$$.fragment,i),i.forEach(m),this.h()},h(){O(n,"class","dark:text-white text-lg"),O(e,"slot","header"),O(e,"class","flex justify-between mb-0 items-center mx-md-5")},m(o,i){v(o,e,i),S(e,n),S(n,t),S(e,r),R(s,e,null),l=!0},p(o,i){(!l||i&1)&&Ee(t,o[0]);const u={};i&262144&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){l||(c(s.$$.fragment,o),l=!0)},o(o){_(s.$$.fragment,o),l=!1},d(o){o&&m(e),I(s)}}}function zt(a){let e,n,t=a[1]&&a[2]&&a[2].length>0&&Ze(a);return{c(){t&&t.c(),e=ie()},l(r){t&&t.l(r),e=ie()},m(r,s){t&&t.m(r,s),v(r,e,s),n=!0},p(r,[s]){r[1]&&r[2]&&r[2].length>0?t?(t.p(r,s),s&6&&c(t,1)):(t=Ze(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ue(),_(t,1,1,()=>{t=null}),de())},i(r){n||(c(t),n=!0)},o(r){_(t),n=!1},d(r){r&&m(e),t&&t.d(r)}}}function Bt(a,e,n){let t,r,s,l,{title:o="Roles"}=e,{group_id:i=1}=e;const{store:{roles:u}}=ke;G(a,u,k=>n(2,r=k));const{openDrawer:d}=Ue(),{targetRole:w,action:p}=Dt(),{loading:$}=u;G(a,$,k=>n(4,l=k));const C={onRowClick:k=>{p.set("update"),d();const j={...k},Q={id:j.id,name:j.name,role_group_id:j.group_id,sort_index:j.sort_index,uuid:j.uuid,created_by_id:j.created_by_id,created_at:j.created_at,updated_by_id:j.updated_by_id,updated_at:j.updated_at};w.set(Q)},columnDefs:[{label:"Name",dataProperty:"name",dataType:Ce.String,viewAlignment:Te.Left},{label:"Sort Index",dataProperty:"sort_index",dataType:Ce.String,viewAlignment:Te.Right}]},K=ft(C),{store:{options:T,data:z},actions:{setRowData:J}}=K;G(a,T,k=>n(1,t=k)),G(a,z,k=>n(3,s=k));const B=()=>{p.set("add"),w.set({name:"",sort_index:0,role_group_id:i}),d()},A=u.subscribe(k=>{const j=k.filter(Q=>Q.group_id===i).sort(({sort_index:Q},{sort_index:E})=>Q-E);J(j)});return lt(()=>{A(),Vt(),Lt()}),a.$$set=k=>{"title"in k&&n(0,o=k.title),"group_id"in k&&n(10,i=k.group_id)},[o,t,r,s,l,u,$,T,z,B,i]}class jt extends me{constructor(e){super(),_e(this,e,Bt,zt,pe,{title:0,group_id:10})}}function Ht(a){let e,n,t;function r(l){a[6](l)}let s={label:a[1],name:a[2],items:a[3]};return a[0]!==void 0&&(s.value=a[0]),e=new Tt({props:s}),be.push(()=>we(e,"value",r)),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,o){R(e,l,o),t=!0},p(l,[o]){const i={};o&2&&(i.label=l[1]),o&4&&(i.name=l[2]),o&8&&(i.items=l[3]),!n&&o&1&&(n=!0,i.value=l[0],he(()=>n=!1)),e.$set(i)},i(l){t||(c(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Kt(a,e,n){let t,r,{label:s=""}=e,{name:l=""}=e,{value:o}=e;const{store:{roleGroups:i}}=ke;G(a,i,d=>n(5,r=d));function u(d){o=d,n(0,o)}return a.$$set=d=>{"label"in d&&n(1,s=d.label),"name"in d&&n(2,l=d.name),"value"in d&&n(0,o=d.value)},a.$$.update=()=>{a.$$.dirty&32&&n(3,t=r.map(d=>({value:d.id+"",name:`${d.name}`})))},[o,s,l,t,i,r,u]}class Zt extends me{constructor(e){super(),_e(this,e,Kt,Ht,pe,{label:1,name:2,value:0})}}function Je(a){var h,b,q,W,x,ce;let e,n,t,r,s,l,o,i,u,d,w,p,$,C,K,T,z,J,B,A,k,j;function Q(g){a[15](g)}let E={type:"text",name:"role-name",label:"Name",placeholder:"Name",disabled:a[3],isInvalid:((h=a[4])==null?void 0:h.name)!==void 0,helperMessage:(q=(b=a[4])==null?void 0:b.name)==null?void 0:q.message,novalidate:!0,required:!0};a[2].name!==void 0&&(E.value=a[2].name),t=new vt({props:E}),be.push(()=>we(t,"value",Q)),t.$on("input",a[12]);function V(g){a[16](g)}let oe={name:"role-sort-index",label:"Sort Index",disabled:a[3],isInvalid:((W=a[4])==null?void 0:W.sort_index)!==void 0,helperMessage:(ce=(x=a[4])==null?void 0:x.sort_index)==null?void 0:ce.message,novalidate:!0,required:!0};a[2].sort_index!==void 0&&(oe.value=a[2].sort_index),l=new kt({props:oe}),be.push(()=>we(l,"value",V)),l.$on("input",a[12]);function ge(g){a[17](g)}let fe={name:"role-group",label:"Role Group"};a[2].group_id!==void 0&&(fe.value=a[2].group_id),u=new Zt({props:fe}),be.push(()=>we(u,"value",ge));let U=a[1]==="update"&&Qe(a),f=a[1]!=="add"&&We(a);return z=new ve({props:{type:"button",size:"xs",class:"mr-2",color:"alternative",disabled:a[3],$$slots:{default:[Qt]},$$scope:{ctx:a}}}),z.$on("click",a[11]),B=new ve({props:{type:"button",size:"xs",disabled:a[3],$$slots:{default:[Yt]},$$scope:{ctx:a}}}),B.$on("click",a[13]),{c(){e=L("form"),n=L("div"),y(t.$$.fragment),s=P(),y(l.$$.fragment),i=P(),y(u.$$.fragment),w=P(),U&&U.c(),p=P(),$=L("div"),C=L("div"),f&&f.c(),K=P(),T=L("div"),y(z.$$.fragment),J=P(),y(B.$$.fragment),this.h()},l(g){e=M(g,"FORM",{class:!0});var N=H(e);n=M(N,"DIV",{class:!0});var Z=H(n);D(t.$$.fragment,Z),s=F(Z),D(l.$$.fragment,Z),i=F(Z),D(u.$$.fragment,Z),w=F(Z),U&&U.l(Z),Z.forEach(m),p=F(N),$=M(N,"DIV",{class:!0});var ee=H($);C=M(ee,"DIV",{});var $e=H(C);f&&f.l($e),$e.forEach(m),K=F(ee),T=M(ee,"DIV",{});var se=H(T);D(z.$$.fragment,se),J=F(se),D(B.$$.fragment,se),se.forEach(m),ee.forEach(m),N.forEach(m),this.h()},h(){O(n,"class","space-y-6"),O($,"class","flex justify-between"),e.noValidate=!0,O(e,"class","form mb-0 flex flex-col justify-between svelte-1dy7x2v")},m(g,N){v(g,e,N),S(e,n),R(t,n,null),S(n,s),R(l,n,null),S(n,i),R(u,n,null),S(n,w),U&&U.m(n,null),S(e,p),S(e,$),S($,C),f&&f.m(C,null),S($,K),S($,T),R(z,T,null),S(T,J),R(B,T,null),A=!0,k||(j=ot(e,"submit",it(a[14])),k=!0)},p(g,N){var Pe,Fe,Le,Me,Oe,ze;const Z={};N&8&&(Z.disabled=g[3]),N&16&&(Z.isInvalid=((Pe=g[4])==null?void 0:Pe.name)!==void 0),N&16&&(Z.helperMessage=(Le=(Fe=g[4])==null?void 0:Fe.name)==null?void 0:Le.message),!r&&N&4&&(r=!0,Z.value=g[2].name,he(()=>r=!1)),t.$set(Z);const ee={};N&8&&(ee.disabled=g[3]),N&16&&(ee.isInvalid=((Me=g[4])==null?void 0:Me.sort_index)!==void 0),N&16&&(ee.helperMessage=(ze=(Oe=g[4])==null?void 0:Oe.sort_index)==null?void 0:ze.message),!o&&N&4&&(o=!0,ee.value=g[2].sort_index,he(()=>o=!1)),l.$set(ee);const $e={};!d&&N&4&&(d=!0,$e.value=g[2].group_id,he(()=>d=!1)),u.$set($e),g[1]==="update"?U?(U.p(g,N),N&2&&c(U,1)):(U=Qe(g),U.c(),c(U,1),U.m(n,null)):U&&(ue(),_(U,1,1,()=>{U=null}),de()),g[1]!=="add"?f?(f.p(g,N),N&2&&c(f,1)):(f=We(g),f.c(),c(f,1),f.m(C,null)):f&&(ue(),_(f,1,1,()=>{f=null}),de());const se={};N&8&&(se.disabled=g[3]),N&134217728&&(se.$$scope={dirty:N,ctx:g}),z.$set(se);const ye={};N&8&&(ye.disabled=g[3]),N&134217738&&(ye.$$scope={dirty:N,ctx:g}),B.$set(ye)},i(g){A||(c(t.$$.fragment,g),c(l.$$.fragment,g),c(u.$$.fragment,g),c(U),c(f),c(z.$$.fragment,g),c(B.$$.fragment,g),A=!0)},o(g){_(t.$$.fragment,g),_(l.$$.fragment,g),_(u.$$.fragment,g),_(U),_(f),_(z.$$.fragment,g),_(B.$$.fragment,g),A=!1},d(g){g&&m(e),I(t),I(l),I(u),U&&U.d(),f&&f.d(),I(z),I(B),k=!1,j()}}}function Qe(a){var t,r,s,l;let e,n;return e=new yt({props:{created_at:(t=a[0])==null?void 0:t.created_at,created_by_id:(r=a[0])==null?void 0:r.created_by_id,updated_at:(s=a[0])==null?void 0:s.updated_at,updated_by_id:(l=a[0])==null?void 0:l.updated_by_id}}),{c(){y(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,i){R(e,o,i),n=!0},p(o,i){var d,w,p,$;const u={};i&1&&(u.created_at=(d=o[0])==null?void 0:d.created_at),i&1&&(u.created_by_id=(w=o[0])==null?void 0:w.created_by_id),i&1&&(u.updated_at=(p=o[0])==null?void 0:p.updated_at),i&1&&(u.updated_by_id=($=o[0])==null?void 0:$.updated_by_id),e.$set(u)},i(o){n||(c(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function We(a){let e,n;return e=new ve({props:{type:"button",size:"xs",color:"red",disabled:a[3],$$slots:{default:[Jt]},$$scope:{ctx:a}}}),e.$on("click",a[18]),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){R(e,t,r),n=!0},p(t,r){const s={};r&8&&(s.disabled=t[3]),r&134217728&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Jt(a){let e;return{c(){e=X("Delete")},l(n){e=Y(n,"Delete")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Qt(a){let e;return{c(){e=X("Reset")},l(n){e=Y(n,"Reset")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Wt(a){let e=a[1]==="add"?"Add":"Update",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,r){v(t,n,r)},p(t,r){r&2&&e!==(e=t[1]==="add"?"Add":"Update")&&Ee(n,e)},d(t){t&&m(n)}}}function Xt(a){let e;return{c(){e=X("...")},l(n){e=Y(n,"...")},m(n,t){v(n,e,t)},p:Ae,d(n){n&&m(e)}}}function Yt(a){let e;function n(s,l){return s[3]?Xt:Wt}let t=n(a),r=t(a);return{c(){r.c(),e=ie()},l(s){r.l(s),e=ie()},m(s,l){r.m(s,l),v(s,e,l)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&m(e),r.d(s)}}}function xt(a){let e,n,t=a[2]&&Je(a);return{c(){t&&t.c(),e=ie()},l(r){t&&t.l(r),e=ie()},m(r,s){t&&t.m(r,s),v(r,e,s),n=!0},p(r,[s]){r[2]?t?(t.p(r,s),s&4&&c(t,1)):(t=Je(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ue(),_(t,1,1,()=>{t=null}),de())},i(r){n||(c(t),n=!0)},o(r){_(t),n=!1},d(r){r&&m(e),t&&t.d(r)}}}function en(a,e,n){let t,r,s,l,o,i;const{loading:u,targetRole:d,model:w,action:p,addRole:$,updateRole:C,deleteRole:K}=Dt();G(a,u,f=>n(3,o=f)),G(a,d,f=>n(0,t=f)),G(a,w,f=>n(2,s=f)),G(a,p,f=>n(1,r=f));const{closeDrawer:T}=Ue(),{store:{roles:z}}=ke,{errors:J,submitted:B,validate:A,reset:k}=$t(bt({name:ht().required("Name is required").label("Name"),sort_index:wt().required().label("Sort Index")}));G(a,J,f=>n(4,i=f)),G(a,B,f=>n(19,l=f));const j=()=>{t&&w.set({name:t.name,sort_index:(t==null?void 0:t.sort_index)??0,group_id:`${t==null?void 0:t.role_group_id}`??"0"}),B.set(!1),k()},Q=async()=>{if(!l)return;const{name:f,sort_index:h}=s;await A({name:f,sort_index:h})},E=async()=>{try{u.set(!0),B.set(!0);const{name:f,sort_index:h,group_id:b}=s;switch(await A({name:f,sort_index:h}),r){case"add":await $({...t,name:f,sort_index:h,role_group_id:parseInt(b,10)});break;case"update":await C({...t,name:f,sort_index:h,role_group_id:parseInt(b,10)});break;case"delete":t!=null&&t.id&&await K(t.id);break;default:}await z.reload(),T()}catch(f){console.log("submit failed",f)}finally{u.set(!1)}};d.subscribe(f=>{f&&w.set({name:f==null?void 0:f.name,sort_index:(f==null?void 0:f.sort_index)??0,group_id:`${f==null?void 0:f.role_group_id}`??"0"})});function V(f){ut.call(this,a,f)}function oe(f){a.$$.not_equal(s.name,f)&&(s.name=f,w.set(s))}function ge(f){a.$$.not_equal(s.sort_index,f)&&(s.sort_index=f,w.set(s))}function fe(f){a.$$.not_equal(s.group_id,f)&&(s.group_id=f,w.set(s))}return[t,r,s,o,i,u,d,w,p,J,B,j,Q,E,V,oe,ge,fe,()=>{p.set("delete"),E()}]}class tn extends me{constructor(e){super(),_e(this,e,en,xt,pe,{})}}function nn(a){let e,n,t="Role",r,s,l,o,i;return s=new mt({props:{class:"mb-4 dark:text-white"}}),s.$on("click",a[3]),o=new tn({}),{c(){e=L("div"),n=L("h5"),n.textContent=t,r=P(),y(s.$$.fragment),l=P(),y(o.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var d=H(e);n=M(d,"H5",{id:!0,class:!0,"data-svelte-h":!0}),Ve(n)!=="svelte-1mqrwvg"&&(n.textContent=t),r=F(d),D(s.$$.fragment,d),d.forEach(m),l=F(u),D(o.$$.fragment,u),this.h()},h(){O(n,"id","drawer-label"),O(n,"class","inline-flex items-center mb-6 text-base font-semibold text-gray-500 uppercase dark:text-gray-400"),O(e,"class","flex items-center")},m(u,d){v(u,e,d),S(e,n),S(e,r),R(s,e,null),v(u,l,d),R(o,u,d),i=!0},p:Ae,i(u){i||(c(s.$$.fragment,u),c(o.$$.fragment,u),i=!0)},o(u){_(s.$$.fragment,u),_(o.$$.fragment,u),i=!1},d(u){u&&(m(e),m(l)),I(s),I(o,u)}}}function rn(a){let e,n,t;function r(l){a[4](l)}let s={transitionType:"fly",transitionParams:a[1],id:"roles-drawer",placement:"right",class:"mt-0",$$slots:{default:[nn]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.hidden=a[0]),e=new gt({props:s}),be.push(()=>we(e,"hidden",r)),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,o){R(e,l,o),t=!0},p(l,[o]){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),!n&&o&1&&(n=!0,i.hidden=l[0],he(()=>n=!1)),e.$set(i)},i(l){t||(c(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function sn(a,e,n){let t,r={x:320,duration:200,easing:_t};const{drawerClosed:s,closeDrawer:l}=Ue();G(a,s,i=>n(0,t=i));function o(i){t=i,s.set(t)}return[t,r,s,l,o]}class an extends me{constructor(e){super(),_e(this,e,sn,rn,pe,{})}}function Xe(a,e,n){const t=a.slice();return t[2]=e[n],t}function Ye(a){let e,n,t=Be(a[0]),r=[];for(let l=0;l<t.length;l+=1)r[l]=xe(Xe(a,t,l));const s=l=>_(r[l],1,1,()=>{r[l]=null});return{c(){e=L("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=M(l,"DIV",{class:!0});var o=H(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-8")},m(l,o){v(l,e,o);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);n=!0},p(l,o){if(o&1){t=Be(l[0]);let i;for(i=0;i<t.length;i+=1){const u=Xe(l,t,i);r[i]?(r[i].p(u,o),c(r[i],1)):(r[i]=xe(u),r[i].c(),c(r[i],1),r[i].m(e,null))}for(ue(),i=t.length;i<r.length;i+=1)s(i);de()}},i(l){if(!n){for(let o=0;o<t.length;o+=1)c(r[o]);n=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)_(r[o]);n=!1},d(l){l&&m(e),It(r,l)}}}function xe(a){let e,n,t,r;return n=new jt({props:{title:a[2].name,group_id:a[2].id}}),{c(){e=L("div"),y(n.$$.fragment),t=P(),this.h()},l(s){e=M(s,"DIV",{class:!0});var l=H(e);D(n.$$.fragment,l),t=F(l),l.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-3")},m(s,l){v(s,e,l),R(n,e,null),S(e,t),r=!0},p(s,l){const o={};l&1&&(o.title=s[2].name),l&1&&(o.group_id=s[2].id),n.$set(o)},i(s){r||(c(n.$$.fragment,s),r=!0)},o(s){_(n.$$.fragment,s),r=!1},d(s){s&&m(e),I(n)}}}function ln(a){let e,n,t,r=a[0]&&a[0].length>0&&Ye(a);return n=new an({}),{c(){r&&r.c(),e=P(),y(n.$$.fragment)},l(s){r&&r.l(s),e=F(s),D(n.$$.fragment,s)},m(s,l){r&&r.m(s,l),v(s,e,l),R(n,s,l),t=!0},p(s,[l]){s[0]&&s[0].length>0?r?(r.p(s,l),l&1&&c(r,1)):(r=Ye(s),r.c(),c(r,1),r.m(e.parentNode,e)):r&&(ue(),_(r,1,1,()=>{r=null}),de())},i(s){t||(c(r),c(n.$$.fragment,s),t=!0)},o(s){_(r),_(n.$$.fragment,s),t=!1},d(s){s&&m(e),r&&r.d(s),I(n,s)}}}function on(a,e,n){let t;const{store:{roleGroups:r}}=ke;return G(a,r,s=>n(0,t=s)),[t,r]}class un extends me{constructor(e){super(),_e(this,e,on,ln,pe,{})}}let ne=null;const dn=()=>(ne={drawerClosed:re(!0),focusedUser:re(null),closeDrawer:()=>{ne!=null&&ne.drawerClosed&&ne.drawerClosed.set(!0)},openDrawer:()=>{ne!=null&&ne.drawerClosed&&ne.drawerClosed.set(!1)}},ne),fn=()=>{ne=null},Ge=()=>ne||dn(),{store:{currentUser:et}}=ct,{store:{roles:tt}}=ke,{action:{toastify:Re}}=pt,cn={name:"",sort_index:0},pn={name:"",sort_index:0};let le=null,Se=null;const mn=()=>(Se=re(cn),le={loading:re(!1),model:re(pn),action:re("view"),targetRoleGroup:Se,canDelete:Ct([tt,Se],([a,e])=>e?a.filter(t=>t.group_id===e.id).length===0:!1),addRoleGroup:async a=>{var e,n,t,r;try{let s=a.sort_index;a.sort_index||(s=(((e=Ie(tt).sort((i,u)=>!(u!=null&&u.sort_index)||!(i!=null&&i.sort_index)?0:u.sort_index-i.sort_index)[1])==null?void 0:e.sort_index)??0)+1);const l=[{name:a.name,sort_index:s,created_by_id:(n=Ie(et))==null?void 0:n.id,created_at:new Date().toISOString()}];await qe.bulkCreate(l),(r=(t=le==null?void 0:le.targetRoleGroup)==null?void 0:t.set)==null||r.call(t,null),Re({type:"success",message:"Updated role group successfully"})}catch{Re({type:"error",message:"Update role group failed, please refresh browser and try again."})}},updateRoleGroup:async a=>{var e,n,t;try{const r=[{name:a.name,sort_index:a.sort_index,uuid:a.uuid,updated_by_id:(e=Ie(et))==null?void 0:e.id,updated_at:new Date().toISOString()}];await qe.bulkUpdate(r,{onConflict:"uuid"}),(t=(n=le==null?void 0:le.targetRoleGroup)==null?void 0:n.set)==null||t.call(n,null),Re({type:"success",message:"Updated role group successfully."})}catch{Re({type:"error",message:"Update role group failed, please refresh browser and try again."})}},deleteRoleGroup:async a=>{if(a)try{await qe.bulkDelete([a]),Re({type:"success",message:"Deleted role successfully."})}catch{Re({type:"error",message:"Delete role failed, please refresh browser and try again."})}}},le),Rt=()=>le===null?mn():le,_n=()=>{le=null,Se=null};function nt(a){var oe,ge,fe,U,f,h;let e,n,t,r,s,l,o,i,u,d,w,p,$,C,K,T,z,J,B;function A(b){a[17](b)}let k={type:"text",name:"role-group-name",label:"Name",placeholder:"Name",disabled:a[3],isInvalid:((oe=a[4])==null?void 0:oe.name)!==void 0,helperMessage:(fe=(ge=a[4])==null?void 0:ge.name)==null?void 0:fe.message,novalidate:!0,required:!0};a[2].name!==void 0&&(k.value=a[2].name),t=new vt({props:k}),be.push(()=>we(t,"value",A)),t.$on("input",a[14]);function j(b){a[18](b)}let Q={name:"role-group-sort-index",label:"Sort Index",disabled:a[3],isInvalid:((U=a[4])==null?void 0:U.sort_index)!==void 0,helperMessage:(h=(f=a[4])==null?void 0:f.sort_index)==null?void 0:h.message,novalidate:!0,required:!0};a[2].sort_index!==void 0&&(Q.value=a[2].sort_index),l=new kt({props:Q}),be.push(()=>we(l,"value",j)),l.$on("input",a[14]);let E=a[1]==="update"&&rt(a),V=a[1]!=="add"&&a[5]&&st(a);return C=new ve({props:{type:"button",size:"xs",class:"mr-2",color:"alternative",disabled:a[3],$$slots:{default:[$n]},$$scope:{ctx:a}}}),C.$on("click",a[13]),T=new ve({props:{type:"button",size:"xs",disabled:a[3],$$slots:{default:[wn]},$$scope:{ctx:a}}}),T.$on("click",a[15]),{c(){e=L("form"),n=L("div"),y(t.$$.fragment),s=P(),y(l.$$.fragment),i=P(),E&&E.c(),u=P(),d=L("div"),w=L("div"),V&&V.c(),p=P(),$=L("div"),y(C.$$.fragment),K=P(),y(T.$$.fragment),this.h()},l(b){e=M(b,"FORM",{class:!0});var q=H(e);n=M(q,"DIV",{class:!0});var W=H(n);D(t.$$.fragment,W),s=F(W),D(l.$$.fragment,W),i=F(W),E&&E.l(W),W.forEach(m),u=F(q),d=M(q,"DIV",{class:!0});var x=H(d);w=M(x,"DIV",{});var ce=H(w);V&&V.l(ce),ce.forEach(m),p=F(x),$=M(x,"DIV",{});var g=H($);D(C.$$.fragment,g),K=F(g),D(T.$$.fragment,g),g.forEach(m),x.forEach(m),q.forEach(m),this.h()},h(){O(n,"class","space-y-6"),O(d,"class","flex justify-between"),e.noValidate=!0,O(e,"class","form mb-0 flex flex-col justify-between svelte-1dy7x2v")},m(b,q){v(b,e,q),S(e,n),R(t,n,null),S(n,s),R(l,n,null),S(n,i),E&&E.m(n,null),S(e,u),S(e,d),S(d,w),V&&V.m(w,null),S(d,p),S(d,$),R(C,$,null),S($,K),R(T,$,null),z=!0,J||(B=ot(e,"submit",it(a[16])),J=!0)},p(b,q){var N,Z,ee,$e,se,ye;const W={};q&8&&(W.disabled=b[3]),q&16&&(W.isInvalid=((N=b[4])==null?void 0:N.name)!==void 0),q&16&&(W.helperMessage=(ee=(Z=b[4])==null?void 0:Z.name)==null?void 0:ee.message),!r&&q&4&&(r=!0,W.value=b[2].name,he(()=>r=!1)),t.$set(W);const x={};q&8&&(x.disabled=b[3]),q&16&&(x.isInvalid=(($e=b[4])==null?void 0:$e.sort_index)!==void 0),q&16&&(x.helperMessage=(ye=(se=b[4])==null?void 0:se.sort_index)==null?void 0:ye.message),!o&&q&4&&(o=!0,x.value=b[2].sort_index,he(()=>o=!1)),l.$set(x),b[1]==="update"?E?(E.p(b,q),q&2&&c(E,1)):(E=rt(b),E.c(),c(E,1),E.m(n,null)):E&&(ue(),_(E,1,1,()=>{E=null}),de()),b[1]!=="add"&&b[5]?V?(V.p(b,q),q&34&&c(V,1)):(V=st(b),V.c(),c(V,1),V.m(w,null)):V&&(ue(),_(V,1,1,()=>{V=null}),de());const ce={};q&8&&(ce.disabled=b[3]),q&268435456&&(ce.$$scope={dirty:q,ctx:b}),C.$set(ce);const g={};q&8&&(g.disabled=b[3]),q&268435466&&(g.$$scope={dirty:q,ctx:b}),T.$set(g)},i(b){z||(c(t.$$.fragment,b),c(l.$$.fragment,b),c(E),c(V),c(C.$$.fragment,b),c(T.$$.fragment,b),z=!0)},o(b){_(t.$$.fragment,b),_(l.$$.fragment,b),_(E),_(V),_(C.$$.fragment,b),_(T.$$.fragment,b),z=!1},d(b){b&&m(e),I(t),I(l),E&&E.d(),V&&V.d(),I(C),I(T),J=!1,B()}}}function rt(a){var t,r,s,l;let e,n;return e=new yt({props:{created_at:(t=a[0])==null?void 0:t.created_at,created_by_id:(r=a[0])==null?void 0:r.created_by_id,updated_at:(s=a[0])==null?void 0:s.updated_at,updated_by_id:(l=a[0])==null?void 0:l.updated_by_id}}),{c(){y(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,i){R(e,o,i),n=!0},p(o,i){var d,w,p,$;const u={};i&1&&(u.created_at=(d=o[0])==null?void 0:d.created_at),i&1&&(u.created_by_id=(w=o[0])==null?void 0:w.created_by_id),i&1&&(u.updated_at=(p=o[0])==null?void 0:p.updated_at),i&1&&(u.updated_by_id=($=o[0])==null?void 0:$.updated_by_id),e.$set(u)},i(o){n||(c(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function st(a){let e,n;return e=new ve({props:{type:"button",size:"xs",color:"red",disabled:a[3],$$slots:{default:[gn]},$$scope:{ctx:a}}}),e.$on("click",a[19]),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){R(e,t,r),n=!0},p(t,r){const s={};r&8&&(s.disabled=t[3]),r&268435456&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function gn(a){let e;return{c(){e=X("Delete")},l(n){e=Y(n,"Delete")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function $n(a){let e;return{c(){e=X("Reset")},l(n){e=Y(n,"Reset")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function bn(a){let e=a[1]==="add"?"Add":"Update",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,r){v(t,n,r)},p(t,r){r&2&&e!==(e=t[1]==="add"?"Add":"Update")&&Ee(n,e)},d(t){t&&m(n)}}}function hn(a){let e;return{c(){e=X("...")},l(n){e=Y(n,"...")},m(n,t){v(n,e,t)},p:Ae,d(n){n&&m(e)}}}function wn(a){let e;function n(s,l){return s[3]?hn:bn}let t=n(a),r=t(a);return{c(){r.c(),e=ie()},l(s){r.l(s),e=ie()},m(s,l){r.m(s,l),v(s,e,l)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&m(e),r.d(s)}}}function vn(a){let e,n,t=a[2]&&nt(a);return{c(){t&&t.c(),e=ie()},l(r){t&&t.l(r),e=ie()},m(r,s){t&&t.m(r,s),v(r,e,s),n=!0},p(r,[s]){r[2]?t?(t.p(r,s),s&4&&c(t,1)):(t=nt(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ue(),_(t,1,1,()=>{t=null}),de())},i(r){n||(c(t),n=!0)},o(r){_(t),n=!1},d(r){r&&m(e),t&&t.d(r)}}}function kn(a,e,n){let t,r,s,l,o,i,u;const{loading:d,targetRoleGroup:w,model:p,action:$,canDelete:C,addRoleGroup:K,updateRoleGroup:T,deleteRoleGroup:z}=Rt();G(a,d,h=>n(3,o=h)),G(a,w,h=>n(0,t=h)),G(a,p,h=>n(2,s=h)),G(a,$,h=>n(1,r=h)),G(a,C,h=>n(5,u=h));const{closeDrawer:J}=Ge(),{store:{roleGroups:B}}=ke,{errors:A,submitted:k,validate:j,reset:Q}=$t(bt({name:ht().required("Name is required").label("Name"),sort_index:wt().required().label("Sort Index")}));G(a,A,h=>n(4,i=h)),G(a,k,h=>n(20,l=h));const E=()=>{t&&p.set({name:t.name,sort_index:(t==null?void 0:t.sort_index)??0}),k.set(!1),Q()},V=async()=>{if(!l)return;const{name:h,sort_index:b}=s;await j({name:h,sort_index:b})},oe=async()=>{try{d.set(!0),k.set(!0);const{name:h,sort_index:b}=s;switch(await j({name:h,sort_index:b}),r){case"add":await K({...t,name:h,sort_index:b});break;case"update":await T({...t,name:h,sort_index:b});break;case"delete":t!=null&&t.id&&await z(t.id);break;default:}await B.reload(),J()}catch(h){console.log("submit failed",h)}finally{d.set(!1)}};w.subscribe(h=>{h&&p.set({name:h==null?void 0:h.name,sort_index:(h==null?void 0:h.sort_index)??0})});function ge(h){ut.call(this,a,h)}function fe(h){a.$$.not_equal(s.name,h)&&(s.name=h,p.set(s))}function U(h){a.$$.not_equal(s.sort_index,h)&&(s.sort_index=h,p.set(s))}return[t,r,s,o,i,u,d,w,p,$,C,A,k,E,V,oe,ge,fe,U,()=>{$.set("delete"),oe()}]}class yn extends me{constructor(e){super(),_e(this,e,kn,vn,pe,{})}}function Dn(a){let e,n,t="Role Group",r,s,l,o,i;return s=new mt({props:{class:"mb-4 dark:text-white"}}),s.$on("click",a[3]),o=new yn({}),{c(){e=L("div"),n=L("h5"),n.textContent=t,r=P(),y(s.$$.fragment),l=P(),y(o.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var d=H(e);n=M(d,"H5",{id:!0,class:!0,"data-svelte-h":!0}),Ve(n)!=="svelte-euk447"&&(n.textContent=t),r=F(d),D(s.$$.fragment,d),d.forEach(m),l=F(u),D(o.$$.fragment,u),this.h()},h(){O(n,"id","drawer-label"),O(n,"class","inline-flex items-center mb-6 text-base font-semibold text-gray-500 uppercase dark:text-gray-400"),O(e,"class","flex items-center")},m(u,d){v(u,e,d),S(e,n),S(e,r),R(s,e,null),v(u,l,d),R(o,u,d),i=!0},p:Ae,i(u){i||(c(s.$$.fragment,u),c(o.$$.fragment,u),i=!0)},o(u){_(s.$$.fragment,u),_(o.$$.fragment,u),i=!1},d(u){u&&(m(e),m(l)),I(s),I(o,u)}}}function Rn(a){let e,n,t;function r(l){a[4](l)}let s={transitionType:"fly",transitionParams:a[1],id:"role-group-drawer",placement:"right",class:"mt-0",$$slots:{default:[Dn]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.hidden=a[0]),e=new gt({props:s}),be.push(()=>we(e,"hidden",r)),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,o){R(e,l,o),t=!0},p(l,[o]){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),!n&&o&1&&(n=!0,i.hidden=l[0],he(()=>n=!1)),e.$set(i)},i(l){t||(c(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function In(a,e,n){let t,r={x:320,duration:200,easing:_t};const{drawerClosed:s,closeDrawer:l}=Ge();G(a,s,i=>n(0,t=i));function o(i){t=i,s.set(t)}return[t,r,s,l,o]}class Sn extends me{constructor(e){super(),_e(this,e,In,Rn,pe,{})}}function at(a){let e,n,t;return n=new dt({props:{options:a[1],data:a[3],loading:a[4],$$slots:{header:[Tn]},$$scope:{ctx:a}}}),{c(){e=L("div"),y(n.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var s=H(e);D(n.$$.fragment,s),s.forEach(m),this.h()},h(){O(e,"class","flex flex-col space-y-3")},m(r,s){v(r,e,s),R(n,e,null),t=!0},p(r,s){const l={};s&2&&(l.options=r[1]),s&8&&(l.data=r[3]),s&16&&(l.loading=r[4]),s&131073&&(l.$$scope={dirty:s,ctx:r}),n.$set(l)},i(r){t||(c(n.$$.fragment,r),t=!0)},o(r){_(n.$$.fragment,r),t=!1},d(r){r&&m(e),I(n)}}}function Cn(a){let e;return{c(){e=X("Add")},l(n){e=Y(n,"Add")},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Tn(a){let e,n,t,r,s,l;return s=new ve({props:{size:"xs",color:"alternative",$$slots:{default:[Cn]},$$scope:{ctx:a}}}),s.$on("click",a[9]),{c(){e=L("div"),n=L("p"),t=X(a[0]),r=P(),y(s.$$.fragment),this.h()},l(o){e=M(o,"DIV",{slot:!0,class:!0});var i=H(e);n=M(i,"P",{class:!0});var u=H(n);t=Y(u,a[0]),u.forEach(m),r=F(i),D(s.$$.fragment,i),i.forEach(m),this.h()},h(){O(n,"class","dark:text-white text-lg"),O(e,"slot","header"),O(e,"class","flex justify-between mb-0 items-center mx-md-5")},m(o,i){v(o,e,i),S(e,n),S(n,t),S(e,r),R(s,e,null),l=!0},p(o,i){(!l||i&1)&&Ee(t,o[0]);const u={};i&131072&&(u.$$scope={dirty:i,ctx:o}),s.$set(u)},i(o){l||(c(s.$$.fragment,o),l=!0)},o(o){_(s.$$.fragment,o),l=!1},d(o){o&&m(e),I(s)}}}function En(a){let e,n,t,r=a[1]&&a[2]&&a[2].length>0&&at(a);return n=new Sn({}),{c(){r&&r.c(),e=P(),y(n.$$.fragment)},l(s){r&&r.l(s),e=F(s),D(n.$$.fragment,s)},m(s,l){r&&r.m(s,l),v(s,e,l),R(n,s,l),t=!0},p(s,[l]){s[1]&&s[2]&&s[2].length>0?r?(r.p(s,l),l&6&&c(r,1)):(r=at(s),r.c(),c(r,1),r.m(e.parentNode,e)):r&&(ue(),_(r,1,1,()=>{r=null}),de())},i(s){t||(c(r),c(n.$$.fragment,s),t=!0)},o(s){_(r),_(n.$$.fragment,s),t=!1},d(s){s&&m(e),r&&r.d(s),I(n,s)}}}function An(a,e,n){let t,r,s,l,{title:o="Role Groups"}=e;const{store:{roleGroups:i}}=ke;G(a,i,A=>n(2,r=A));const{openDrawer:u}=Ge(),{targetRoleGroup:d,action:w}=Rt(),{loading:p}=i;G(a,p,A=>n(4,l=A));const $={onRowClick:A=>{w.set("update"),u();const k={...A};d.set(k)},columnDefs:[{label:"Name",dataProperty:"name",dataType:Ce.String,viewAlignment:Te.Left},{label:"Sort Index",dataProperty:"sort_index",dataType:Ce.String,viewAlignment:Te.Right}]},C=ft($),{store:{options:K,data:T},actions:{setRowData:z}}=C;G(a,K,A=>n(1,t=A)),G(a,T,A=>n(3,s=A));const J=()=>{w.set("add"),d.set({name:"",sort_index:0}),u()},B=i.subscribe(A=>{const k=A.sort(({sort_index:j},{sort_index:Q})=>j-Q);z(k)});return lt(()=>{B(),fn(),_n()}),a.$$set=A=>{"title"in A&&n(0,o=A.title)},[o,t,r,s,l,i,p,K,T,J]}class Nn extends me{constructor(e){super(),_e(this,e,An,En,pe,{title:0})}}function qn(a){let e;return{c(){e=X(`The navbar component can be used to show a list of navigation links positioned on the top side
		of your page based on multiple layouts, sizes, and dropdowns`)},l(n){e=Y(n,`The navbar component can be used to show a list of navigation links positioned on the top side
		of your page based on multiple layouts, sizes, and dropdowns`)},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Vn(a){let e;return{c(){e=X(`Get started with the responsive navbar component from Flowbite to quickly set up a navigation
		menu for your website and set up the logo, list of pages, CTA button, search input, user profile
		options with a dropdown, and more.`)},l(n){e=Y(n,`Get started with the responsive navbar component from Flowbite to quickly set up a navigation
		menu for your website and set up the logo, list of pages, CTA button, search input, user profile
		options with a dropdown, and more.`)},m(n,t){v(n,e,t)},d(n){n&&m(e)}}}function Un(a){let e,n;return e=new un({}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){R(e,t,r),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Gn(a){let e,n;return e=new Nn({}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){R(e,t,r),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Pn(a){let e,n,t,r;return e=new je({props:{open:a[0].roles.open,title:"Roles",$$slots:{default:[Un]},$$scope:{ctx:a}}}),e.$on("click",a[2]),t=new je({props:{open:a[0].groups.open,title:"Groups",$$slots:{default:[Gn]},$$scope:{ctx:a}}}),t.$on("click",a[3]),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},l(s){D(e.$$.fragment,s),n=F(s),D(t.$$.fragment,s)},m(s,l){R(e,s,l),v(s,n,l),R(t,s,l),r=!0},p(s,l){const o={};l&1&&(o.open=s[0].roles.open),l&64&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const i={};l&1&&(i.open=s[0].groups.open),l&64&&(i.$$scope={dirty:l,ctx:s}),t.$set(i)},i(s){r||(c(e.$$.fragment,s),c(t.$$.fragment,s),r=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),r=!1},d(s){s&&m(n),I(e,s),I(t,s)}}}function Fn(a){let e,n,t="Roles",r,s,l,o,i,u,d,w;return s=new He({props:{class:"text-lg text-gray-600 dark:text-gray-400",$$slots:{default:[qn]},$$scope:{ctx:a}}}),i=new He({props:{$$slots:{default:[Vn]},$$scope:{ctx:a}}}),d=new Et({props:{style:"underline",contentClass:"py-4 px-0 rounded-lg mt-0",$$slots:{default:[Pn]},$$scope:{ctx:a}}}),{c(){e=L("div"),n=L("h1"),n.textContent=t,r=P(),y(s.$$.fragment),l=P(),o=L("div"),y(i.$$.fragment),u=P(),y(d.$$.fragment),this.h()},l(p){e=M(p,"DIV",{class:!0});var $=H(e);n=M($,"H1",{class:!0,"data-svelte-h":!0}),Ve(n)!=="svelte-1pq2ohe"&&(n.textContent=t),r=F($),D(s.$$.fragment,$),$.forEach(m),l=F(p),o=M(p,"DIV",{class:!0});var C=H(o);D(i.$$.fragment,C),C.forEach(m),u=F(p),D(d.$$.fragment,p),this.h()},h(){O(n,"class","text-3xl w-full inline-block mb-2 font-extrabold tracking-tight text-gray-900 dark:text-white"),O(e,"class","pb-8 pt-8"),O(o,"class","pb-8")},m(p,$){v(p,e,$),S(e,n),S(e,r),R(s,e,null),v(p,l,$),v(p,o,$),R(i,o,null),v(p,u,$),R(d,p,$),w=!0},p(p,[$]){const C={};$&64&&(C.$$scope={dirty:$,ctx:p}),s.$set(C);const K={};$&64&&(K.$$scope={dirty:$,ctx:p}),i.$set(K);const T={};$&65&&(T.$$scope={dirty:$,ctx:p}),d.$set(T)},i(p){w||(c(s.$$.fragment,p),c(i.$$.fragment,p),c(d.$$.fragment,p),w=!0)},o(p){_(s.$$.fragment,p),_(i.$$.fragment,p),_(d.$$.fragment,p),w=!1},d(p){p&&(m(e),m(l),m(o),m(u)),I(s),I(i),I(d,p)}}}function Ln(a,e,n){let t;G(a,At,u=>n(4,t=u));let r={roles:{open:!1},groups:{open:!1}};const s=u=>{t.url.searchParams.set("tab",u),Nt(`?${t.url.searchParams.toString()}`)},l=u=>{switch(u==null?void 0:u.toLowerCase()){case"roles":n(0,r.roles.open=!0,r),n(0,r.groups.open=!1,r);break;case"groups":n(0,r.roles.open=!1,r),n(0,r.groups.open=!0,r);break;default:n(0,r.roles.open=!0,r),n(0,r.groups.open=!1,r);break}};return St(()=>{l(t.url.searchParams.get("tab")??null)}),[r,s,()=>s("roles"),()=>s("groups")]}class tr extends me{constructor(e){super(),_e(this,e,Ln,Fn,pe,{})}}export{tr as component};
